<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doodle World Tools</title>
    <style>
        :root {
            --bg-color: #121212;
            --text-color: #ffffff;
            --main-bg: #1e1e1e;
            --card-bg: #2a2a2a;
            --card-border: none;
            --button-bg: #444;
            --button-hover: #555;
            --input-bg: #333;
            --input-border: #444;
            --shadow: rgba(0, 0, 0, 0.3);
            --active-team: #4CAF50;
            --header-color: #ffffff;
            --section-border: #444;
            --expand-bg: #333;
            --nav-bg: #1a1a1a;
            --nav-active: #333;
            --nav-box-bg: #2a2a2a;
            --nav-box-hover: #333;
            
            --mythic-color: #b19cd9;
            --fire-color: #ff8c00;
            --water-color: #1e90ff;
            --plant-color: #4CAF50;
            --spark-color: #FFEB3B;
            --beast-color: #8B4513;
            --air-color: #87CEFA;
            --insect-color: #6CC417;
            --earth-color: #CD853F;
            --mind-color: #FFB6C1;
            --melee-color: #ff6b6b;
            --food-color: #f5deb3;
            --light-color: #fffacd;
            --crystal-color: #00ced1;
            --metal-color: #a9a9a9;
            --spirit-color: #9400d3;
            --ice-color: #e0ffff;
            --dark-color: #000000;
            --poison-color: #da70d6;
            --basic-color: #cccccc;
        }

        * {
            box-sizing: border-box;
            font-family: Arial, sans-serif;
            color: var(--text-color);
        }

        body {
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

        .nav-container {
            background-color: var(--nav-bg);
            padding: 10px 0;
            box-shadow: 0 2px 10px var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
            margin-bottom: 20px;
        }

        .nav-menu {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            list-style: none;
            padding: 0 20px;
            gap: 10px;
        }

        .nav-item {
            flex: 1;
        }

        .nav-button {
            width: 100%;
            background: var(--nav-box-bg);
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: none;
            text-align: center;
            border-radius: 8px;
        }

        .nav-button:hover {
            background-color: var(--nav-box-hover);
        }

        .nav-button.active {
            background-color: var(--nav-active);
        }

        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: var(--main-bg);
            border-radius: 0;
            padding: 20px;
            box-shadow: 0 4px 12px var(--shadow);
            min-height: calc(100vh - 100px);
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            color: var(--header-color);
            margin: 0;
            font-size: 28px;
            font-weight: bold;
        }

        .team-management {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .team-selector {
            display: flex;
            gap: 10px;
            align-items: center;
            flex: 1;
        }

        .team-selector select {
            flex: 1;
            padding: 10px;
            border-radius: 0;
            border: 1px solid var(--input-border);
            background-color: var(--input-bg);
            min-width: 150px;
        }

        .team-actions {
            display: flex;
            gap: 10px;
        }

        .team-action-btn {
            background-color: var(--button-bg);
            border: none;
            border-radius: 0;
            padding: 10px 15px;
            cursor: pointer;
            font-weight: bold;
            white-space: nowrap;
        }

        .team-name-input {
            padding: 12px;
            border-radius: 0;
            border: 1px solid var(--input-border);
            background-color: var(--input-bg);
            font-size: 16px;
            flex: 1;
            min-width: 200px;
        }

        .doodle-creation {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .doodle-selector {
            display: flex;
            gap: 10px;
            flex: 1;
            position: relative;
        }

        .custom-dropdown {
            position: relative;
            flex: 1;
        }

        .dropdown-header {
            padding: 10px;
            border: 1px solid var(--input-border);
            background-color: var(--input-bg);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: 44px;
        }

        .dropdown-list {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            max-height: 300px;
            overflow-y: auto;
            background-color: var(--input-bg);
            border: 1px solid var(--input-border);
            border-top: none;
            z-index: 1000;
            display: none;
        }

        .dropdown-list.active {
            display: block;
        }

        .dropdown-search {
            width: 100%;
            padding: 8px;
            border: none;
            border-bottom: 1px solid var(--input-border);
            background-color: var(--input-bg);
            color: var(--text-color);
        }

        .dropdown-options {
            max-height: 250px;
            overflow-y: auto;
        }

        .dropdown-option {
            padding: 8px 10px;
            cursor: pointer;
            border-bottom: 1px solid var(--section-border);
            display: flex;
            align-items: center;
            gap: 8px;
            min-height: 36px;
        }

        .dropdown-option:hover {
            background-color: var(--button-bg);
        }

        .dropdown-option.selected {
            background-color: var(--button-hover);
        }

        .dropdown-option .type-icon {
            width: 16px;
            height: 16px;
            flex-shrink: 0;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        .add-doodle-btn {
            background-color: var(--button-bg);
            border: none;
            border-radius: 0;
            padding: 10px 20px;
            cursor: pointer;
            font-weight: bold;
            white-space: nowrap;
        }

        .attunement-toggle {
            margin: 10px 0;
            display: flex;
            justify-content: center;
        }

        .attunement-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 14px;
            color: var(--text-color);
        }

        .attunement-label input[type="checkbox"] {
            margin: 0;
        }

        .attunement-text {
            font-weight: bold;
        }

        .team-display {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }

        .doodle-card {
            background-color: var(--card-bg);
            border: none;
            border-radius: 0;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6);
            position: relative;
            cursor: move;
        }

        .doodle-card.dragging {
            opacity: 0.5;
        }

        .doodle-card.drag-over {
            border: 2px dashed var(--button-hover);
        }

        .doodle-card.attuned {
            border-left: 4px solid var(--mythic-color);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .doodle-sprite-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .doodle-sprite {
            width: 100px;
            height: 100px;
            background-color: var(--input-border);
            border-radius: 0;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            flex-shrink: 0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .doodle-info {
            flex: 1;
        }

        .doodle-name {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .attunement-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: var(--mythic-color);
            border-radius: 50%;
        }

        .type-badges {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
            margin-top: 5px;
        }

        .type-badge {
            padding: 3px 8px;
            border-radius: 0;
            font-size: 12px;
            color: white;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .type-icon {
            width: 16px;
            height: 16px;
            display: inline-block;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        .card-buttons {
            display: flex;
            gap: 8px;
        }

        .card-btn {
            background: var(--button-bg);
            border: none;
            border-radius: 0;
            padding: 6px 12px;
            font-size: 13px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .card-btn:hover {
            background: var(--button-hover);
        }

        .attune-btn {
            background-color: var(--mythic-color) !important;
            font-weight: bold;
        }

        .attune-btn:hover {
            background-color: #c9b1f0 !important;
        }

        .expand-section {
            display: none;
            margin-top: 15px;
            background-color: var(--expand-bg);
            padding: 15px;
            border-radius: 0;
            box-shadow: 0 2px 6px var(--shadow);
            font-size: 14px;
        }

        .expand-section.active {
            display: block;
        }

        .section-title {
            font-size: 16px;
            margin: 15px 0 10px 0;
            padding-bottom: 5px;
            border-bottom: 1px solid var(--section-border);
        }

        .moves-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .stats-container, .equipment-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .equipment-container {
            grid-template-columns: 1fr;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .control-btn {
            background-color: var(--button-bg);
            border: none;
            border-radius: 0;
            padding: 10px 16px;
            cursor: pointer;
            font-weight: bold;
        }

        .footer {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid var(--section-border);
            flex-wrap: wrap;
        }

        .credits, .update-info {
            font-size: 14px;
        }

        .calculator-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .calculator-box {
            border: 2px solid var(--section-border);
            padding: 20px;
            background: var(--card-bg);
            text-align: left;
            border-radius: 0;
            position: relative;
            box-shadow: 0 4px 12px var(--shadow);
        }

        .calculator-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--section-border);
        }

        .remove-calc {
            background: var(--button-bg);
            color: var(--text-color);
            border: none;
            border-radius: 0;
            width: 32px;
            height: 32px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .remove-calc:hover {
            background: #ff4444;
        }

        .type-select-container {
            margin-bottom: 15px;
        }

        .type-select {
            padding: 12px;
            width: 100%;
            border: 1px solid var(--input-border);
            border-radius: 0;
            background-color: var(--input-bg);
            color: var(--text-color);
            margin-bottom: 12px;
            box-shadow: 0 2px 4px var(--shadow);
            font-size: 14px;
        }

        .result-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: var(--text-color);
            font-size: 16px;
            display: flex;
            align-items: center;
        }

        .result-list {
            min-height: 40px;
            padding: 15px;
            background: var(--input-bg);
            border-radius: 0;
            border: 1px solid var(--input-border);
            margin-bottom: 15px;
            color: var(--text-color);
            box-shadow: inset 0 2px 4px var(--shadow);
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .calc-type-badge {
            display: inline-flex;
            align-items: center;
            padding: 6px 12px 6px 40px;
            border-radius: 0;
            color: white;
            font-size: 13px;
            font-weight: bold;
            white-space: nowrap;
            position: relative;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px var(--shadow);
        }

        .calc-type-badge .type-icon {
            position: absolute;
            left: 12px;
            width: 16px;
            height: 16px;
            display: inline-block;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        .team-summary {
            background: var(--card-bg);
            padding: 25px;
            border-radius: 0;
            border: 1px solid var(--section-border);
            margin-top: 30px;
            box-shadow: 0 4px 12px var(--shadow);
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .summary-box {
            padding: 20px;
            background: var(--input-bg);
            border-radius: 0;
            border: 1px solid var(--section-border);
            min-height: 140px;
            box-shadow: 0 4px 8px var(--shadow);
            transition: all 0.3s ease;
        }

        .summary-title {
            font-weight: bold;
            margin-bottom: 12px;
            color: var(--text-color);
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .none {
            color: #666;
            font-style: italic;
        }

        .add-doodle-calc {
            background: var(--button-bg);
            color: var(--text-color);
            border: none;
            padding: 14px 28px;
            border-radius: 0;
            cursor: pointer;
            margin: 20px 0;
            box-shadow: 0 4px 8px var(--shadow);
            transition: all 0.3s ease;
            font-weight: bold;
            font-size: 16px;
        }

        .add-doodle-calc:hover {
            background: var(--button-hover);
        }

        .save-load-container {
            margin: 20px 0;
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .save-btn, .load-btn {
            background-color: var(--button-bg);
            color: var(--text-color);
            border: none;
            padding: 10px 20px;
            border-radius: 0;
            cursor: pointer;
            box-shadow: 0 2px 4px var(--shadow);
            transition: all 0.3s ease;
        }

        .save-btn:hover, .load-btn:hover {
            background-color: var(--button-hover);
        }

        .offensive-calculator {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .type-selection {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .offensive-type-select {
            padding: 12px;
            border: 1px solid var(--input-border);
            background-color: var(--input-bg);
            border-radius: 0;
            font-size: 16px;
            width: 100%;
        }

        .calculate-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
        }

        .calculate-btn, .reset-btn {
            background-color: var(--button-bg);
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 0;
            transition: background-color 0.3s;
            width: 100%;
            max-width: 300px;
        }

        .calculate-btn:hover {
            background-color: var(--button-hover);
        }

        .reset-btn {
            background-color: #555;
        }

        .reset-btn:hover {
            background-color: #666;
        }

        .offensive-results-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .offensive-result-category {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 0;
            box-shadow: 0 4px 12px var(--shadow);
            min-height: 200px;
        }

        .offensive-result-category h3 {
            margin-top: 0;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--section-border);
            font-size: 18px;
            text-align: center;
        }

        .offensive-result-list {
            min-height: 150px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .offensive-doodle-result {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            background-color: var(--input-bg);
            border-radius: 0;
            border: 1px solid var(--input-border);
        }

        .offensive-doodle-result .doodle-sprite {
            width: 50px;
            height: 50px;
            margin: 0;
        }

        .offensive-doodle-result .doodle-info {
            flex: 1;
        }

        .offensive-doodle-result .doodle-name {
            font-size: 14px;
            margin-bottom: 5px;
        }

        .offensive-doodle-result .type-badges {
            gap: 3px;
        }

        .offensive-doodle-result .type-badge {
            font-size: 10px;
            padding: 2px 6px;
        }

        .offensive-doodle-result .type-icon {
            width: 12px;
            height: 12px;
        }

        .offensive-traits-toggle {
            display: flex;
            justify-content: center;
            margin: 15px 0;
        }

        .traits-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 14px;
            color: var(--text-color);
        }

        .traits-label input[type="checkbox"] {
            margin: 0;
        }

        .traits-text {
            font-weight: bold;
        }

        .move-group-header {
            background-color: var(--button-bg);
            padding: 5px 10px;
            font-weight: bold;
            font-size: 12px;
            border-bottom: 1px solid var(--section-border);
            position: sticky;
            top: 0;
            z-index: 1;
        }

        .dropdown-option.move-option {
            padding-left: 30px;
            position: relative;
        }

        .dropdown-option.move-option .type-icon {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
        }

        .dropdown-header .type-icon {
            margin-right: 8px;
        }

        .move-dropdown .dropdown-header .type-icon {
    width: 12px;
    height: 12px;
    margin-right: 8px;
}

.move-dropdown .move-option .type-icon {
    width: 12px;
    height: 12px;
}

.dropdown-option.move-option .type-icon {
    width: 12px;
    height: 12px;
    left: 10px; /* Adjust as needed */
}

        .matchup-container {
            display: flex;
            flex-direction: column;
            gap: 25px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .matchup-doodles {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .matchup-doodle-select {
            position: relative;
            width: 100%;
        }

        .matchup-dropdown-header {
            padding: 12px;
            border: 1px solid var(--input-border);
            background-color: var(--input-bg);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: 46px;
        }

        .matchup-dropdown-list {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            max-height: 300px;
            overflow-y: auto;
            background-color: var(--input-bg);
            border: 1px solid var(--input-border);
            border-top: none;
            z-index: 1000;
            display: none;
        }

        .matchup-dropdown-list.active {
            display: block;
        }

        .matchup-dropdown-search {
            width: 100%;
            padding: 8px;
            border: none;
            border-bottom: 1px solid var(--input-border);
            background-color: var(--input-bg);
            color: var(--text-color);
        }

        .matchup-options {
            max-height: 250px;
            overflow-y: auto;
        }

        .matchup-option {
            padding: 8px 10px;
            cursor: pointer;
            border-bottom: 1px solid var(--section-border);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .matchup-option:hover {
            background-color: var(--button-bg);
        }

        .matchup-option.selected {
            background-color: var(--button-hover);
        }

        .mini-sprite {
            width: 40px;
            height: 40px;
            background-color: var(--input-border);
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            flex-shrink: 0;
        }

        .matchup-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .matchup-btn {
            background-color: var(--button-bg);
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 0;
            transition: background-color 0.3s;
            min-width: 200px;
        }

        .matchup-btn:hover {
            background-color: var(--button-hover);
        }

        .matchup-results-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .matchup-result-category {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 0;
            box-shadow: 0 4px 12px var(--shadow);
            min-height: 400px;
        }

        .matchup-result-category h3 {
            margin-top: 0;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--section-border);
            font-size: 18px;
            text-align: center;
        }

        .matchup-result-list {
            min-height: 350px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            overflow-y: auto;
            max-height: 350px;
        }

        .matchup-result-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background-color: var(--input-bg);
            border-radius: 0;
            border: 1px solid var(--input-border);
        }

        .matchup-result-item .doodle-sprite {
            width: 60px;
            height: 60px;
            margin: 0;
        }

        .matchup-result-item .doodle-info {
            flex: 1;
        }

        .matchup-result-item .doodle-name {
            font-size: 16px;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .matchup-result-item .type-badges {
            gap: 5px;
        }

        .matchup-result-item .type-badge {
            font-size: 11px;
            padding: 3px 8px;
        }

        .matchup-result-item .type-icon {
            width: 12px;
            height: 12px;
        }

        .matchup-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--section-border);
            font-size: 14px;
            color: var(--text-color);
        }

        .matchup-stat {
            text-align: center;
            flex: 1;
        }

        .matchup-stat-value {
            font-size: 18px;
            font-weight: bold;
            color: var(--header-color);
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .team-management, .doodle-creation {
                flex-direction: column;
            }
            
            .team-selector, .doodle-selector {
                flex-direction: column;
            }
            
            .doodle-sprite-container {
                flex-direction: column;
                text-align: center;
            }
            
            .controls {
                flex-wrap: wrap;
            }
            
            .footer {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
            
            .moves-container, .stats-container, .equipment-container {
                grid-template-columns: 1fr;
            }
            
            .calculator-container {
                grid-template-columns: 1fr;
            }
            
            .summary-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .nav-menu {
                flex-direction: column;
            }
            
            .type-selection {
                grid-template-columns: 1fr;
            }
            
            .offensive-results-container {
                grid-template-columns: 1fr;
            }
            
            .save-load-container {
                flex-direction: column;
                align-items: center;
            }
            
            .calculate-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .matchup-doodles {
                grid-template-columns: 1fr 1fr;
            }
            
            .matchup-results-container {
                grid-template-columns: 1fr;
            }
            
            .matchup-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .matchup-btn {
                width: 100%;
                max-width: 300px;
            }
        }

        @media (max-width: 600px) {
            .summary-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .matchup-doodles {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="nav-container">
        <ul class="nav-menu">
            <li class="nav-item">
                <button class="nav-button active" data-page="teambuilder">Teambuilder</button>
            </li>
            <li class="nav-item">
                <button class="nav-button" data-page="defensive">Defensive Calculator</button>
            </li>
            <li class="nav-item">
                <button class="nav-button" data-page="offensive">Offensive Calculator</button>
            </li>
            <li class="nav-item">
                <button class="nav-button" data-page="matchup">Matchup Calculator</button>
            </li>
        </ul>
    </div>

    <div class="main-container">
        <!-- Teambuilder Page -->
        <div class="page active" id="teambuilder">
            <div class="header">
                <h1>Doodle World Teambuilder</h1>
            </div>
            
            <div class="team-management">
                <div class="team-selector">
                    <select id="team-select">
                        <option value="">Select a Team</option>
                    </select>
                    <div class="team-actions">
                        <button class="team-action-btn" id="add-team">Add Team</button>
                        <button class="team-action-btn" id="delete-team">Delete Team</button>
                    </div>
                </div>
                <input type="text" class="team-name-input" id="team-name" placeholder="Enter team name...">
            </div>
            
            <div class="doodle-creation">
                <div class="custom-dropdown" id="doodle-dropdown">
                    <div class="dropdown-header" id="doodle-header">
                        <span>Select a Doodle</span>
                        <span>â–¼</span>
                    </div>
                    <div class="dropdown-list" id="doodle-list">
                        <input type="text" class="dropdown-search" id="doodle-search" placeholder="Search doodles...">
                        <div class="dropdown-options" id="doodle-options"></div>
                    </div>
                </div>
                <button class="add-doodle-btn" id="add-doodle">Add Doodle</button>
            </div>
            
            <!-- Attunement Toggle -->
            <div class="attunement-toggle">
                <label class="attunement-label">
                    <input type="checkbox" id="auto-attune" checked>
                    <span class="attunement-text">Auto-attune signature items & traits</span>
                </label>
            </div>
            
            <div class="team-display" id="team-display">
            </div>
            
            <div class="controls">
                <button class="control-btn" id="copy-code">Copy Team Code</button>
                <button class="control-btn" id="import-code">Import Team Code</button>
                <button class="control-btn" id="import-text">Import from Text</button>
            </div>
            
            <div class="footer">
                <div class="credits">Created by Bwiffs</div>
                <div class="update-info">Updated: 1/20/2026</div>
            </div>
        </div>

        <!-- Defensive Calculator Page -->
        <div class="page" id="defensive">
            <div class="header">
                <h1>Defensive Type Calculator</h1>
            </div>

            <div class="save-load-container">
                <button class="save-btn" id="save-defensive">Save Defensive Team</button>
                <button class="load-btn" id="load-defensive">Load Defensive Team</button>
                <button class="load-btn" id="load-from-teambuilder">Load from Teambuilder</button>
            </div>

            <div class="calculator-container" id="defensive-container"></div>
            
            <button class="add-doodle-calc" id="add-defensive">+ Add Doodle</button>

            <div class="team-summary">
                <h2>Team Summary</h2>
                <div class="summary-grid">
                    <div class="summary-box">
                        <div class="summary-title">Team Weaknesses</div>
                        <div id="team-weaknesses" class="result-list">None</div>
                    </div>
                    <div class="summary-box">
                        <div class="summary-title">Team Resistances</div>
                        <div id="team-resistances" class="result-list">None</div>
                    </div>
                    <div class="summary-box">
                        <div class="summary-title">Team Immunities</div>
                        <div id="team-immunities" class="result-list">None</div>
                    </div>
                    <div class="summary-box">
                        <div class="summary-title">No Resistances</div>
                        <div id="team-no-resistances" class="result-list">None</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Offensive Calculator Page -->
        <div class="page" id="offensive">
            <div class="header">
                <h1>Offensive Type Coverage Calculator</h1>
            </div>

            <div class="offensive-calculator">
                <div class="type-selection">
                    <select class="offensive-type-select" id="type-1">
                        <option value="">Select Type 1</option>
                    </select>
                    <select class="offensive-type-select" id="type-2">
                        <option value="">Select Type 2</option>
                    </select>
                    <select class="offensive-type-select" id="type-3">
                        <option value="">Select Type 3</option>
                    </select>
                    <select class="offensive-type-select" id="type-4">
                        <option value="">Select Type 4</option>
                    </select>
                </div>

                <div class="offensive-traits-toggle">
                    <label class="traits-label">
                        <input type="checkbox" id="include-traits">
                        <span class="traits-text">Include Traits</span>
                    </label>
                </div>

                <div class="calculate-buttons">
                    <button class="calculate-btn" id="calculate-coverage">Calculate Coverage</button>
                    <button class="reset-btn" id="reset-coverage">Reset</button>
                </div>

                <div class="offensive-results-container">
                    <div class="offensive-result-category">
                        <h3>Super Effective</h3>
                        <div id="super-effective" class="offensive-result-list">
                            <span class="none">None</span>
                        </div>
                    </div>
                    <div class="offensive-result-category">
                        <h3>Normal Effectiveness</h3>
                        <div id="normal-effective" class="offensive-result-list">
                            <span class="none">None</span>
                        </div>
                    </div>
                    <div class="offensive-result-category">
                        <h3>Not Very Effective</h3>
                        <div id="not-very-effective" class="offensive-result-list">
                            <span class="none">None</span>
                        </div>
                    </div>
                    <div class="offensive-result-category">
                        <h3>No Effect</h3>
                        <div id="no-effect" class="offensive-result-list">
                            <span class="none">None</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="footer">
                <div class="credits">Created by Bwiffs</div>
                <div class="update-info">Updated: 1/20/2026</div>
            </div>
        </div>

        <!-- Matchup Calculator Page -->
        <div class="page" id="matchup">
            <div class="header">
                <h1>Matchup Calculator</h1>
            </div>

            <div class="matchup-container">
                <h3 style="text-align: center; margin-bottom: 20px;">Select up to 4 doodles to find coverage against them</h3>
                
                <div class="matchup-doodles" id="matchup-doodles">
                    <!-- Doodle selectors will be added here by JavaScript -->
                </div>

                <div class="matchup-controls">
                    <button class="matchup-btn" id="calculate-matchup">Find Coverage</button>
                    <button class="matchup-btn" id="clear-matchup">Clear All</button>
                </div>

                <div class="matchup-stats">
                    <div class="matchup-stat">
                        <div>Doodles Found</div>
                        <div class="matchup-stat-value" id="found-count">0</div>
                    </div>
                    <div class="matchup-stat">
                        <div>Best Coverage</div>
                        <div class="matchup-stat-value" id="best-coverage">0 types</div>
                    </div>
                </div>

                <div class="matchup-results-container">
                    <div class="matchup-result-category">
                        <h3>Best Coverage Doodles</h3>
                        <div id="best-coverage-list" class="matchup-result-list">
                            <span class="none">Select doodles</span>
                        </div>
                    </div>
                    <div class="matchup-result-category">
                        <h3>All Coverage Doodles</h3>
                        <div id="all-coverage-list" class="matchup-result-list">
                            <span class="none">Select doodles</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="footer">
                <div class="credits">Created by Bwiffs</div>
                <div class="update-info">Updated: 1/03/2026</div>
            </div>
        </div>
    </div>

    <script>
        // DEFENSIVE TYPE CHART
        const defensiveTypeChart = {
            "basic": {
                "basic": 1, "fire": 1, "water": 1, "plant": 1, "spark": 1, 
                "beast": 1, "air": 1, "insect": 1, "earth": 1, "mind": 1, 
                "melee": 2, "food": 1, "light": 1, "crystal": 1, "metal": 1, 
                "spirit": 0, "ice": 1, "dark": 1, "poison": 1, "mythic": 1
            },
            "fire": {
                "basic": 1, "fire": 0.5, "water": 2, "plant": 0.5, "spark": 1, 
                "beast": 0.5, "air": 1, "insect": 0.5, "earth": 2, "mind": 1, 
                "melee": 1, "food": 0.5, "light": 1, "crystal": 1, "metal": 0.5, 
                "spirit": 1, "ice": 2, "dark": 1, "poison": 1, "mythic": 1
            },
            "water": {
                "basic": 1, "fire": 0.5, "water": 0.5, "plant": 2, "spark": 2, 
                "beast": 1, "air": 1, "insect": 1, "earth": 1, "mind": 1, 
                "melee": 1, "food": 1, "light": 1, "crystal": 0.5, "metal": 0.5, 
                "spirit": 1, "ice": 0.5, "dark": 1, "poison": 2, "mythic": 1
            },
            "plant": {
                "basic": 1, "fire": 2, "water": 0.5, "plant": 0.5, "spark": 0.5, 
                "beast": 1, "air": 2, "insect": 2, "earth": 0.5, "mind": 1, 
                "melee": 1, "food": 0.5, "light": 0.5, "crystal": 1, "metal": 1, 
                "spirit": 1, "ice": 2, "dark": 1, "poison": 2, "mythic": 1
            },
            "spark": {
                "basic": 1, "fire": 1, "water": 1, "plant": 1, "spark": 0.5, 
                "beast": 0.5, "air": 0.5, "insect": 1, "earth": 2, "mind": 1, 
                "melee": 1, "food": 1, "light": 1, "crystal": 2, "metal": 0.5, 
                "spirit": 1, "ice": 1, "dark": 1, "poison": 1, "mythic": 1
            },
            "beast": {
                "basic": 1, "fire": 2, "water": 1, "plant": 1, "spark": 2, 
                "beast": 2, "air": 1, "insect": 0.5, "earth": 1, "mind": 2, 
                "melee": 1, "food": 0.5, "light": 1, "crystal": 1, "metal": 1, 
                "spirit": 1, "ice": 1, "dark": 0.5, "poison": 1, "mythic": 1
            },
            "air": {
                "basic": 1, "fire": 1, "water": 1, "plant": 0.5, "spark": 2, 
                "beast": 1, "air": 1, "insect": 0.5, "earth": 0, "mind": 1, 
                "melee": 0.5, "food": 1, "light": 1, "crystal": 1, "metal": 1, 
                "spirit": 1, "ice": 2, "dark": 1, "poison": 2, "mythic": 1
            },
            "insect": {
                "basic": 1, "fire": 2, "water": 1, "plant": 0.5, "spark": 2, 
                "beast": 2, "air": 2, "insect": 1, "earth": 0.5, "mind": 1, 
                "melee": 0.5, "food": 1, "light": 1, "crystal": 1, "metal": 1, 
                "spirit": 1, "ice": 1, "dark": 0.5, "poison": 1, "mythic": 1
            },
            "earth": {
                "basic": 1, "fire": 0.5, "water": 2, "plant": 2, "spark": 0, 
                "beast": 1, "air": 1, "insect": 1, "earth": 1, "mind": 1, 
                "melee": 1, "food": 1, "light": 1, "crystal": 0.5, "metal": 1, 
                "spirit": 1, "ice": 1, "dark": 1, "poison": 0.5, "mythic": 1
            },
            "mind": {
                "basic": 1, "fire": 1, "water": 1, "plant": 1, "spark": 1, 
                "beast": 1, "air": 1, "insect": 2, "earth": 1, "mind": 0.5, 
                "melee": 0.5, "food": 2, "light": 1, "crystal": 1, "metal": 1, 
                "spirit": 2, "ice": 1, "dark": 2, "poison": 1, "mythic": 1
            },
            "melee": {
                "basic": 1, "fire": 1, "water": 1, "plant": 1, "spark": 1, 
                "beast": 0.5, "air": 2, "insect": 0.5, "earth": 1, "mind": 2, 
                "melee": 1, "food": 2, "light": 1, "crystal": 1, "metal": 1, 
                "spirit": 1, "ice": 0.5, "dark": 1, "poison": 1, "mythic": 1
            },
            "food": {
                "basic": 1, "fire": 2, "water": 2, "plant": 1, "spark": 0.5, 
                "beast": 2, "air": 1, "insect": 2, "earth": 1, "mind": 1, 
                "melee": 1, "food": 1, "light": 0.5, "crystal": 1, "metal": 1, 
                "spirit": 1, "ice": 1, "dark": 0.5, "poison": 1, "mythic": 1
            },
            "light": {
                "basic": 1, "fire": 0.5, "water": 1, "plant": 2, "spark": 1, 
                "beast": 1, "air": 1, "insect": 1, "earth": 1, "mind": 1, 
                "melee": 1, "food": 1, "light": 0.5, "crystal": 1, "metal": 1, 
                "spirit": 0, "ice": 1, "dark": 2, "poison": 1, "mythic": 1
            },
            "crystal": {
                "basic": 1, "fire": 0.5, "water": 1, "plant": 1, "spark": 0.5, 
                "beast": 1, "air": 1, "insect": 1, "earth": 2, "mind": 2, 
                "melee": 2, "food": 1, "light": 0.5, "crystal": 1, "metal": 2, 
                "spirit": 0.5, "ice": 1, "dark": 1, "poison": 0, "mythic": 1
            },
            "metal": {
                "basic": 0.5, "fire": 2, "water": 1, "plant": 0.5, "spark": 1, 
                "beast": 0.5, "air": 0.5, "insect": 0.5, "earth": 2, "mind": 0.5, 
                "melee": 2, "food": 1, "light": 1, "crystal": 1, "metal": 0.5, 
                "spirit": 1, "ice": 0.5, "dark": 1, "poison": 0, "mythic": 1
            },
            "spirit": {
                "basic": 0, "fire": 1, "water": 1, "plant": 1, "spark": 1, 
                "beast": 1, "air": 1, "insect": 1, "earth": 1, "mind": 0.5, 
                "melee": 0, "food": 0.5, "light": 2, "crystal": 2, "metal": 1, 
                "spirit": 2, "ice": 1, "dark": 2, "poison": 0.5, "mythic": 1
            },
            "ice": {
                "basic": 1, "fire": 2, "water": 1, "plant": 1, "spark": 1, 
                "beast": 1, "air": 1, "insect": 1, "earth": 1, "mind": 1, 
                "melee": 2, "food": 1, "light": 1, "crystal": 0.5, "metal": 2, 
                "spirit": 1, "ice": 0.5, "dark": 1, "poison": 1, "mythic": 1
            },
            "dark": {
                "basic": 1, "fire": 1, "water": 1, "plant": 1, "spark": 1, 
                "beast": 2, "air": 1, "insect": 2, "earth": 1, "mind": 0, 
                "melee": 1, "food": 1, "light": 2, "crystal": 1, "metal": 1, 
                "spirit": 0.5, "ice": 1, "dark": 0.5, "poison": 1, "mythic": 1
            },
            "poison": {
                "basic": 1, "fire": 1, "water": 0.5, "plant": 1, "spark": 1, 
                "beast": 1, "air": 0.5, "insect": 0.5, "earth": 2, "mind": 2, 
                "melee": 0.5, "food": 1, "light": 1, "crystal": 1, "metal": 1, 
                "spirit": 1, "ice": 1, "dark": 1, "poison": 0.5, "mythic": 1
            },
            "mythic": {
                "basic": 0.5, "fire": 0.5, "water": 0.5, "plant": 0.5, "spark": 0.5, 
                "beast": 0.5, "air": 1, "insect": 1, "earth": 1, "mind": 1, 
                "melee": 1, "food": 1, "light": 2, "crystal": 2, "metal": 1, 
                "spirit": 1, "ice": 1, "dark": 1, "poison": 1, "mythic": 2
            }
        };

        // OFFENSIVE TYPE CHART
        const offensiveTypeChart = {
            "basic": {
                "basic": 1, "fire": 1, "water": 1, "plant": 1, "spark": 1, 
                "beast": 1, "air": 1, "insect": 1, "earth": 1, "mind": 1, 
                "melee": 1, "food": 1, "light": 1, "crystal": 1, "metal": 0.5, 
                "spirit": 0, "ice": 1, "dark": 1, "poison": 1, "mythic": 0.5
            },
            "fire": {
                "basic": 1, "fire": 0.5, "water": 0.5, "plant": 2, "spark": 1, 
                "beast": 2, "air": 1, "insect": 2, "earth": 0.5, "mind": 1, 
                "melee": 1, "food": 2, "light": 0.5, "crystal": 0.5, "metal": 2, 
                "spirit": 1, "ice": 2, "dark": 1, "poison": 1, "mythic": 0.5
            },
            "water": {
                "basic": 1, "fire": 2, "water": 0.5, "plant": 0.5, "spark": 1, 
                "beast": 1, "air": 1, "insect": 1, "earth": 2, "mind": 1, 
                "melee": 1, "food": 2, "light": 1, "crystal": 1, "metal": 1, 
                "spirit": 1, "ice": 1, "dark": 1, "poison": 0.5, "mythic": 0.5
            },
            "plant": {
                "basic": 1, "fire": 0.5, "water": 2, "plant": 0.5, "spark": 1, 
                "beast": 1, "air": 0.5, "insect": 0.5, "earth": 2, "mind": 1, 
                "melee": 1, "food": 2, "light": 2, "crystal": 1, "metal": 0.5, 
                "spirit": 1, "ice": 1, "dark": 1, "poison": 1, "mythic": 0.5
            },
            "spark": {
                "basic": 1, "fire": 1, "water": 2, "plant": 0.5, "spark": 0.5, 
                "beast": 2, "air": 2, "insect": 2, "earth": 0, "mind": 1, 
                "melee": 1, "food": 0.5, "light": 1, "crystal": 0.5, "metal": 1, 
                "spirit": 1, "ice": 1, "dark": 1, "poison": 1, "mythic": 0.5
            },
            "beast": {
                "basic": 1, "fire": 0.5, "water": 1, "plant": 1, "spark": 0.5, 
                "beast": 2, "air": 1, "insect": 2, "earth": 1, "mind": 1, 
                "melee": 0.5, "food": 2, "light": 1, "crystal": 1, "metal": 0.5, 
                "spirit": 1, "ice": 1, "dark": 2, "poison": 1, "mythic": 0.5
            },
            "air": {
                "basic": 1, "fire": 1, "water": 1, "plant": 2, "spark": 0.5, 
                "beast": 1, "air": 1, "insect": 2, "earth": 1, "mind": 1, 
                "melee": 2, "food": 1, "light": 1, "crystal": 1, "metal": 0.5, 
                "spirit": 1, "ice": 1, "dark": 1, "poison": 0.5, "mythic": 1
            },
            "insect": {
                "basic": 1, "fire": 0.5, "water": 1, "plant": 2, "spark": 1, 
                "beast": 0.5, "air": 0.5, "insect": 1, "earth": 1, "mind": 2, 
                "melee": 0.5, "food": 2, "light": 1, "crystal": 1, "metal": 0.5, 
                "spirit": 1, "ice": 1, "dark": 2, "poison": 0.5, "mythic": 1
            },
            "earth": {
                "basic": 1, "fire": 2, "water": 1, "plant": 0.5, "spark": 2, 
                "beast": 1, "air": 0, "insect": 0.5, "earth": 1, "mind": 1, 
                "melee": 1, "food": 1, "light": 1, "crystal": 2, "metal": 2, 
                "spirit": 1, "ice": 2, "dark": 1, "poison": 2, "mythic": 1
            },
            "mind": {
                "basic": 1, "fire": 1, "water": 1, "plant": 1, "spark": 1, 
                "beast": 2, "air": 1, "insect": 1, "earth": 1, "mind": 0.5, 
                "melee": 2, "food": 1, "light": 1, "crystal": 2, "metal": 0.5, 
                "spirit": 0.5, "ice": 1, "dark": 0, "poison": 2, "mythic": 1
            },
            "melee": {
                "basic": 2, "fire": 1, "water": 1, "plant": 1, "spark": 1, 
                "beast": 1, "air": 0.5, "insect": 0.5, "earth": 1, "mind": 0.5, 
                "melee": 1, "food": 1, "light": 1, "crystal": 2, "metal": 2, 
                "spirit": 0, "ice": 2, "dark": 1, "poison": 0.5, "mythic": 1
            },
            "food": {
                "basic": 1, "fire": 0.5, "water": 1, "plant": 0.5, "spark": 1, 
                "beast": 0.5, "air": 1, "insect": 1, "earth": 1, "mind": 2, 
                "melee": 2, "food": 1, "light": 1, "crystal": 1, "metal": 1, 
                "spirit": 0.5, "ice": 1, "dark": 1, "poison": 1, "mythic": 1
            },
            "light": {
                "basic": 1, "fire": 1, "water": 1, "plant": 0.5, "spark": 1, 
                "beast": 1, "air": 1, "insect": 1, "earth": 1, "mind": 1, 
                "melee": 1, "food": 0.5, "light": 0.5, "crystal": 0.5, "metal": 1, 
                "spirit": 2, "ice": 1, "dark": 2, "poison": 1, "mythic": 2
            },
            "crystal": {
                "basic": 1, "fire": 1, "water": 0.5, "plant": 1, "spark": 2, 
                "beast": 1, "air": 1, "insect": 1, "earth": 0.5, "mind": 1, 
                "melee": 1, "food": 1, "light": 1, "crystal": 1, "metal": 1, 
                "spirit": 2, "ice": 0.5, "dark": 1, "poison": 1, "mythic": 2
            },
            "metal": {
                "basic": 1, "fire": 0.5, "water": 0.5, "plant": 1, "spark": 0.5, 
                "beast": 1, "air": 1, "insect": 1, "earth": 1, "mind": 1, 
                "melee": 1, "food": 1, "light": 1, "crystal": 2, "metal": 0.5, 
                "spirit": 1, "ice": 2, "dark": 1, "poison": 1, "mythic": 1
            },
            "spirit": {
                "basic": 0, "fire": 1, "water": 1, "plant": 1, "spark": 1, 
                "beast": 1, "air": 1, "insect": 1, "earth": 1, "mind": 2, 
                "melee": 1, "food": 1, "light": 0, "crystal": 0.5, "metal": 1, 
                "spirit": 2, "ice": 1, "dark": 0.5, "poison": 1, "mythic": 1
            },
            "ice": {
                "basic": 1, "fire": 2, "water": 0.5, "plant": 2, "spark": 1, 
                "beast": 1, "air": 2, "insect": 1, "earth": 2, "mind": 1, 
                "melee": 0.5, "food": 1, "light": 1, "crystal": 1, "metal": 0.5, 
                "spirit": 1, "ice": 0.5, "dark": 1, "poison": 1, "mythic": 1
            },
            "dark": {
                "basic": 1, "fire": 1, "water": 1, "plant": 1, "spark": 1, 
                "beast": 0.5, "air": 1, "insect": 0.5, "earth": 1, "mind": 2, 
                "melee": 1, "food": 0.5, "light": 2, "crystal": 1, "metal": 1, 
                "spirit": 2, "ice": 1, "dark": 0.5, "poison": 1, "mythic": 1
            },
            "poison": {
                "basic": 1, "fire": 1, "water": 2, "plant": 2, "spark": 1, 
                "beast": 1, "air": 2, "insect": 1, "earth": 0.5, "mind": 1, 
                "melee": 1, "food": 1, "light": 1, "crystal": 0, "metal": 0, 
                "spirit": 0.5, "ice": 1, "dark": 1, "poison": 0.5, "mythic": 1
            },
            "mythic": {
                "basic": 1, "fire": 1, "water": 1, "plant": 1, "spark": 1, 
                "beast": 1, "air": 1, "insect": 1, "earth": 1, "mind": 1, 
                "melee": 1, "food": 1, "light": 1, "crystal": 0.5, "metal": 1, 
                "spirit": 1, "ice": 1, "dark": 1, "poison": 1, "mythic": 2
            }
        };

        const allTypes = Object.keys(defensiveTypeChart);
        
        const typeColors = {
            'Mythic': 'var(--mythic-color)',
            'Fire': 'var(--fire-color)',
            'Water': 'var(--water-color)',
            'Plant': 'var(--plant-color)',
            'Spark': 'var(--spark-color)',
            'Beast': 'var(--beast-color)',
            'Air': 'var(--air-color)',
            'Insect': 'var(--insect-color)',
            'Earth': 'var(--earth-color)',
            'Mind': 'var(--mind-color)',
            'Melee': 'var(--melee-color)',
            'Food': 'var(--food-color)',
            'Light': 'var(--light-color)',
            'Crystal': 'var(--crystal-color)',
            'Metal': 'var(--metal-color)',
            'Spirit': 'var(--spirit-color)',
            'Ice': 'var(--ice-color)',
            'Dark': 'var(--dark-color)',
            'Poison': 'var(--poison-color)',
            'Basic': 'var(--basic-color)'
        };

        const typeIcons = {
            'Mythic': 'logos/mythic.webp',
            'Fire': 'logos/fire.webp',
            'Water': 'logos/water.webp',
            'Plant': 'logos/plant.webp',
            'Spark': 'logos/spark.webp',
            'Beast': 'logos/beast.webp',
            'Air': 'logos/air.webp',
            'Insect': 'logos/bug.webp',
            'Earth': 'logos/earth.webp',
            'Mind': 'logos/mind.webp',
            'Melee': 'logos/melee.webp',
            'Food': 'logos/food.webp',
            'Light': 'logos/light.webp',
            'Crystal': 'logos/crystal.webp',
            'Metal': 'logos/metal.webp',
            'Spirit': 'logos/spirit.webp',
            'Ice': 'logos/ice.webp',
            'Dark': 'logos/dark.webp',
            'Poison': 'logos/poison.webp',
            'Basic': 'logos/basic.webp'
        };

        const traitEffects = {
            "Absorber": { immunity: "primary" },
            "Apex": { removeType: "beast" },
            "Arid": { immunity: "water" },
            "Bright Lights": { immunity: "dark" },
            "Caliginous": { immunity: "light" },
            "Conductor": { immunity: "spark" },
            "Divine Beast": { immunity: "beast" },
            "Filament": { immunity: "spark" },
            "Fire Up": { immunity: "fire" },
            "Fireproof Armor": { damageReduction: { type: "fire", amount: 0.5 } },
            "Blightfrost": { damageReduction: { type: "fire", amount: 0.5 } },
            "Hard Candy": { superEffectiveToResisted: { type: "fire", from: 2, to: 0.5 } },
            "Herbivore": { immunity: "plant" },
            "Karna": { damageReduction: { type: "earth", amount: 0.5 } },
            "Levitate": { immunity: "earth" },
            "Melting Point": { immunity: "ice" },
            "Mushboom": { superEffectiveToResisted: { type: "air", from: 2, to: 0.5 } },
            "Nitelite": { damageReduction: { type: "dark", amount: 0.5 } },
            "Puffball": { superEffectiveToResisted: { type: "air", from: 2, to: 0.5 } },
            "Skyborn": { immunity: "air" },
            "Spiteful": { invertChart: true },
            "Stormwater": { immunity: "water" },
            "Tumble": { damageReduction: { type: "melee", amount: 0.5 } },
            "Water Absorb": { immunity: "water" },
            "Sky Deity": { immunity: ["air", "earth"] },
            "Adipose": { damageReduction: [{ type: "fire", amount: 0.5 }, { type: "ice", amount: 0.5 }] },
            "Floaty": { damageReduction: { type: "air", amount: 0.5 } }
        };

        const traitMoveTypeChanges = {
            "Galvanize": { from: "basic", to: "spark" },
            "Your Meowjesty": { from: "basic", to: "air" },
            "Toxicity": { from: "basic", to: "poison" },
            "Apparition": { from: "basic", to: "spirit" },
            "Luminosity": { from: "dark", to: "light" }
        };

        const specialMoveTypes = {
            "Chemical Breath": {
                "Noxvul": "poison",
                "Exovul": "fire", 
                "Endovul": "ice",
                "Vuliable": "basic"
            },
            "Elemental Claws": {
                "Lacergen-Earth": "earth",
                "Lacergen-Spark": "spark",
                "Lacergen-Fire": "fire",
                "Lacergen-Ice": "ice"
            }
        };

        const doodleDefaultTraits = {
            "Lacergen-Earth": "Absorber",
            "Lacergen-Spark": "Absorber",
            "Lacergen-Fire": "Absorber",
            "Lacergen-Ice": "Absorber",
            "Gyornaw": "Apex",
            "Arthopex": "Apex",
            "Prickles": "Arid",
            "Trithorn": "Adipose",
            "Boblop": "Adipose", 
            "Gigarlic": "Adipose",
            "Caramellow": "Adipose",
            "Groato": "Adipose",
            "Phantern": "Bright Lights",
            "Abyssent": "Bright Lights",
            "Flong": "Caliginous",
            "Mourveil": "Caliginous",
            "Voltenchant": "Conductor",
            "Scorsurge": "Conductor",
            "Vermorph": "Conductor",
            "Metalytra": "Conductor",
            "Voltatoo": "Conductor",
            "Koriyu": "Divine Beast",
            "Jelluminous": "Filament",
            "Meltimaw": "Fire Up",
            "Salaferno": "Fire Up",
            "Exovul": "Fire Up",
            "Bronzoch": "Fire Up",
            "Clangutang": "Fireproof Armor",
            "Aluminja": "Fireproof Armor",
            "Gauntcier": "Fireproof Armor",
            "Endovul": "Blightfrost",
            "Somberock": "Hard Candy",
            "Gowatt": "Herbivore",
            "Springling": "Herbivore",
            "Nyanto": "Herbivore",
            "Goliage": "Herbivore",
            "Infurnius": "Karna",
            "Riptorvent": "Levitate",
            "Spectrowl": "Levitate",
            "Morphiu-C": "Levitate",
            "Morphiu-L": "Levitate",
            "Morphiu-T": "Levitate",
            "Morphiu-O": "Levitate",
            "Daeferno": "Levitate",
            "Serpentsheen": "Levitate",
            "Incandesect": "Levitate",
            "Ignisect": "Levitate",
            "Bubbull-A": "Melting Point",
            "Hypnotl-A": "Mushboom",
            "Lumiline": "Nitelite",
            "Klydaskunk": "Nitelite",
            "Hypnotl": "Puffball",
            "Nimbell": "Skyborn",
            "Morphiu-G": "Skyborn",
            "Theaterror-A": "Spiteful",
            "Moss": "Stormwater",
            "Mold": "Stormwater",
            "Ctholos": "Stormwater",
            "Snorolla": "Tumble",
            "Libelagua": "Water Absorb",
            "Cacmeow": "Water Absorb",
            "Goliage": "Water Absorb",
            "Mantiscald": "Water Absorb",
            "Umaisho": "Water Absorb",
            "Kelpimer": "Water Absorb",
            "Riptorvent-A": "Sky Deity",
            "Aerystal": "Floaty"
        };

        const moveTypeMap = {};
        
        const doodleAttunements = {
            "Mawthra-A": { runestone: "Mawthra Rune", signatureTrait: "Warden" },
            "Thornet-A": { runestone: "Thornet Rune", signatureTrait: "Retaliate" },
            "Voltenchant-A": { runestone: "Voltenchant Rune", signatureTrait: "Downpour" },
            "Theaterror-A": { runestone: "Theaterror Rune", signatureTrait: "Spiteful" },
            "Maskomedy-A": { runestone: "Maskomedy Rune", signatureTrait: "Cardinal Sins" },
            "Mourveil-A": { runestone: "Mourveil Rune", signatureTrait: "The Fungus" },
            "Malotrick-A": { runestone: "Malotrick Rune", signatureTrait: "Gaseous Form" },
            "Tulenna-A": { runestone: "Tulenna Rune", signatureTrait: "Toxicity" },
            "Staligant-A": { runestone: "Staligant Rune" },
            "Corrolizard-A": { runestone: "Corrolizard Rune", signatureTrait: "Decay" },
            "Grufflin-A": { runestone: "Grufflin Rune", signatureTrait: "Analytical" },
            "Skadean-A": { runestone: "Skadean Rune", signatureTrait: "Sea Goddess Disciple" },
            "Partybug-A": { runestone: "Partybug Rune", signatureTrait: "Archmage" },
            "Somberock-A": { runestone: "Somberock Rune", signatureTrait: "Luminosity" },
            "Nyanto-A": { runestone: "Nyanto Rune", signatureTrait: "Your Meowjesty" },
            "Suomous-A": { runestone: "Suomous Rune", signatureTrait: "Jab Cross" },
            "Daeferno-A": { runestone: "Daeferno Rune", signatureTrait: "Revenant" },
            "Vigimante-A": { runestone: "Vigimante Rune", signatureTrait: "Crowd Support" },
            "Groato-A": { runestone: "Groato Rune", signatureTrait: "Extinguisher" },
            "Lumiline-A": { runestone: "Lumiline Rune", signatureTrait: "Crystallization" },
            "Cacmeow-A": { runestone: "Cacmeow Rune", signatureTrait: "Visicous" },
            "Cryotera-A": { runestone: "Cryotera Rune", signatureTrait: "Bypass" },
            "Spectatik-A": { runestone: "Spectatik Rune", signatureTrait: "Speed of Swag" },
            "Bionotic-A": { runestone: "Bionotic Rune", signatureTrait: "Mind Games" },
            "Archopos-A": { runestone: "Archopos Rune", signatureTrait: "Delicate" },
            "Cerebopod-A": { runestone: "Cerebopod Rune", signatureTrait: "Refreshed Resilience" },
            "Hattrix-A": { runestone: "Hattrix Rune", signatureTrait: "Spell Shield" },
            "Cragildae-A": { runestone: "Cragildae Rune", signatureTrait: "Grounded" },
            "Bubbull-A": { runestone: "Bubbul Rune", signatureTrait: "Melting Point" },
            "Tufflaze-A": { runestone: "Tufflaze Rune", signatureTrait: "Annihilation" },
            "Libelagua-A": { runestone: "Libelagua Rune", signatureTrait: "Bogdown" },
            "Snowclowne-A": { signatureItem: "Snowclowne Silly Cone", signatureTrait: "Frostillery" },
            "Jellupy-A": { signatureItem: "Jellupy Whisk", signatureTrait: "Jelly Sync" },
            "Fancyoon-A": { signatureItem: "Fancyoon Boa", signatureTrait: "Foul Welcome" },
            "Hangryphus-A": { signatureItem: "Hangryphus Pie", signatureTrait: "Last Stand" },
            "Exoskelis-A": { signatureItem: "Exoskelis Shard", signatureTrait: "Revival" },
            "Calamander-A": { signatureItem: "Calamander's Candy", signatureTrait: "Hidden Strength" },
            "Umaisho-A": { signatureItem: "Umaisho Matcha", signatureTrait: "Lipid Scale" },
            "Ostigon-A": { signatureItem: "Ostigon Collar", signatureTrait: "Corruption" },
            "Vermorph-A": { signatureItem: "Vermorph Goggles", signatureTrait: "Electrician" },
            "Jinglark-A": { signatureItem: "Jinglark Present", signatureTrait: "Holiday Spirit" },
            "Hypnotl-A": { signatureItem: "Hypnotl Antigen", signatureTrait: "Mushboom" },
            "Riptorvent-A": { signatureItem: "Riptorvent Rune", signatureTrait: "Sky Deity" },
            "Bungo": { signatureTrait: "Split" },
            "Seamknight": { signatureTrait: "Vigor" },
            "Seamstress": { signatureTrait: "Elegance" },
            "Reliconis": { signatureTrait: "Reformation" },
            "Armaratus": { signatureTrait: "Soul Fortification" },
            "Glacigash": { signatureTrait: "Enfeeble" },
            "Lacergen-Earth": { signatureItem: "Earth Data" },
            "Lacergen-Spark": { signatureItem: "Spark Data" },
            "Lacergen-Fire": { signatureItem: "Fire Data" },
            "Lacergen-Ice": { signatureItem: "Ice Data" },
            "Hollihare-A": { signatureItem: "Hollihare Wreath", signatureTrait: "Sugarsick" },
            "Freqrec": { signatureTrait: "Static Startle" },
        };

        const doodles = [
            { name: "Abyssent", image: "https://i.ibb.co/6089VMk2/Abyssent-1.webp", type: "Water/Light" },
            { name: "Aerystal", image: "https://i.ibb.co/9KdDtN1/Aerystal-1.webp", type: "Crystal/Air" },
            { name: "Aliantion", image: "https://i.ibb.co/fGVtt9VC/Aliantion-1.webp", type: "Insect/Mind" },
            { name: "Aluminja", image: "https://i.ibb.co/tpxnFrs0/Aluminja-1.webp", type: "Metal/Melee" },
            { name: "Amalchem", image: "https://i.ibb.co/FqxBjZBN/Amalchem-1.png", type: "Poison/Metal" },
            { name: "Antenaflight", image: "https://i.ibb.co/chg5DDHT/Antenaflight-1.webp", type: "Insect/Air" },
            { name: "Anubeetle", image: "https://i.ibb.co/zHZWtGLG/Anubeetle-1.webp", type: "Insect/Earth" },
            { name: "Applicious", image: "https://i.ibb.co/MkB2QYKw/Applicious1.png", type: "Food/Plant" },
            { name: "Arachniak", image: "https://i.ibb.co/rGzxdc10/Arachniak-1.webp", type: "Spirit/Insect" },
            { name: "Arctadon", image: "https://i.ibb.co/Kx8yJ3t3/Arctadon-1.png", type: "Melee/Ice" },
            { name: "Arcwatt", image: "https://i.ibb.co/PvxkXktZ/Arcwatt-1.webp", type: "Spark/Ice" },
            { name: "Archopos", image: "https://i.ibb.co/cKvQgKqZ/Archopos-1.webp", type: "Spirit" },
            { name: "Archopos-A", image: "https://i.ibb.co/tTZYP6LB/A-Archopos-1.webp", type: "Spirit/Metal" },
            { name: "Armaratus", image: "https://i.ibb.co/jvMyhxRH/Armaratus-Unveiled-1.webp", type: "Spirit/Crystal" },
            { name: "Arthopex", image: "https://i.ibb.co/spyF5Yty/Arthopex-1.webp", type: "Beast/Insect" },
            { name: "Artifixie-Base", image: "https://i.ibb.co/NdjXHNsN/Artifixie-1.webp", type: "Ice/Mind" },
            { name: "Artifixie-Mech", image: "https://i.ibb.co/wNYbXdLb/Artifixie-MEKA-1.webp", type: "Ice/Metal" },
            { name: "Aurevalis", image: "https://i.ibb.co/Qv1sDy8k/Aurevalis-1.webp", type: "Light/Crystal" },
            { name: "Banautalis", image: "https://i.ibb.co/ZpfvDz69/Banautilus-1.webp", type: "Plant/Food" },
            { name: "Bionotic", image: "https://i.ibb.co/rKwnMmQs/Bionotic-1.webp", type: "Water/Mind" },
            { name: "Bionotic-A", image: "https://i.ibb.co/RdsYPBh/A-Bionotic-1.webp", type: "Water/Mind" },
            { name: "Blastag", image: "https://i.ibb.co/BMhQktx/Untitled2040-20251220230330.png", type: "Dark/Fire" },
            { name: "Boblop", image: "https://i.ibb.co/gbZBZMpm/Boblop-1.webp", type: "Fire/Basic" },
            { name: "Bowlinguin", image: "https://i.ibb.co/VWv4dKHc/image.png", type: "Ice" },
            { name: "Breezshy", image: "https://i.ibb.co/vx62848L/2025-04-06-0wn-Kleki-2.png", type: "Plant/Air" },
            { name: "Bronzoch", image: "https://i.ibb.co/7ty7w22C/Bronzoch-1.webp", type: "Fire/Metal" },
            { name: "Bubbull", image: "https://i.ibb.co/pBj6DYFJ/Bubbull-1.webp", type: "Water/Earth" },
            { name: "Bubbull-A", image: "https://i.ibb.co/5W1hP8y6/A-Bubbull-1.webp", type: "Water/Earth" },
            { name: "Bungo", image: "https://i.ibb.co/4RbPds64/Bungo-Family-1.webp", type: "Poison" },
            { name: "Bunswirl", image: "https://i.ibb.co/r2r7LLxH/Bunswirl-1.webp", type: "Food/Basic" },
            { name: "Butterlivion", image: "https://i.ibb.co/0Rp88mLz/Butterlivion-1.png", type: "Insect/Mind" },
            { name: "Cacmeow", image: "https://i.ibb.co/Cs0PgZ1Q/Cacmeow-1.webp", type: "Plant/Earth" },
            { name: "Cacmeow-A", image: "https://i.ibb.co/hJnBK6jj/A-Cacmeow-1.webp", type: "Plant/Earth" },
            { name: "Calamander", image: "https://i.ibb.co/N6SrKydb/Calamander-1.webp", type: "Food" },
            { name: "Calamander-A", image: "https://i.ibb.co/Xf2k8WL4/A-Calamander-1.webp", type: "Food/Beast" },
            { name: "Candeigon", image: "https://i.ibb.co/0jcQhbJT/Candeigon-1.webp", type: "Food/Mind" },
            { name: "Caramellow", image: "https://i.ibb.co/mVqxRJkP/Caramellow-1.webp", type: "Food/Beast" },
            { name: "Carnivower", image: "https://i.ibb.co/PZ4sk1sB/Carnivower-1.webp", type: "Plant/Beast" },
            { name: "Celestian", image: "https://i.ibb.co/LdxVfJN8/Celestian-1.webp", type: "Mind/Metal" },
            { name: "Cerebopod", image: "https://i.ibb.co/fYf7nDP9/Cerebopod-1.webp", type: "Mind/Poison" },
            { name: "Cerebopod-A", image: "https://i.ibb.co/RGJtFjLZ/A-Cerebopod-1.webp", type: "Mind/Poison" },
            { name: "Cherugard", image: "https://i.ibb.co/dJKrrF91/Cherugard-1.webp", type: "Light/Air" },
            { name: "Chilloud", image: "https://i.ibb.co/jk5sSy2b/Untitled22-20241002113905.png", type: "Ice/Beast" },
            { name: "Chimeberry", image: "https://i.ibb.co/HLGbbrpn/Chimeberry-1.png", type: "Plant/Light" },
            { name: "Chimestive", image: "https://i.ibb.co/BH4tZFRj/Chimestive-1.webp", type: "Food/Basic" },
            { name: "Clangutang", image: "https://i.ibb.co/6JgmLsNT/Clangutang-1.webp", type: "Earth/Metal" },
            { name: "Clavalier", image: "https://i.ibb.co/wrFGzd8m/Latest.png", type: "Water/Metal" },
            { name: "Corrolizard", image: "https://i.ibb.co/HDYqQHJX/Corrolizard-1.webp", type: "Poison" },
            { name: "Corrolizard-A", image: "https://i.ibb.co/7tgnPM4B/A-Corrolizard-1.webp", type: "Poison/Spirit" },
            { name: "Cragildae", image: "https://i.ibb.co/KT2Q7KS/Cragildae-1.webp", type: "Earth/Melee" },
            { name: "Cragildae-A", image: "https://i.ibb.co/zWTVy9dS/A-Cragildae-1.webp", type: "Earth/Melee" },
            { name: "Cresceroken", image: "https://i.ibb.co/V0V72Jrj/Cresceroken-1.png", type: "Dark/Mind" },
            { name: "Cryotera", image: "https://i.ibb.co/k2ZdKtrW/Cryotera-1.webp", type: "Ice/Air" },
            { name: "Cryotera-A", image: "https://i.ibb.co/xKQy61rC/A-Cryotera-1.webp", type: "Ice/Dark" },
            { name: "Ctholos", image: "https://i.ibb.co/chVmY7PW/Ctholos-1.webp", type: "Water/Dark" },
            { name: "Daffodally", image: "https://i.ibb.co/zWvz7h57/Daffodally-1.webp", type: "Plant/Basic" },
            { name: "Daeferno", image: "https://i.ibb.co/675zBZZW/Daeferno-1.webp", type: "Fire/Spirit" },
            { name: "Daeferno-A", image: "https://i.ibb.co/672z1BHp/A-Daeferno-1.webp", type: "Fire/Spirit" },
            { name: "Dameseal", image: "https://i.ibb.co/4ZkjjRDS/Dameseal-1.webp", type: "Water/Basic" },
            { name: "Desdog", image: "https://i.ibb.co/0RDzVQky/Desdog-1.webp", type: "Dark/Basic" },
            { name: "Djinneko", image: "https://i.ibb.co/YBpZJJSB/Djinneko-1.webp", type: "Mind/Spirit" },
            { name: "Drakothread", image: "https://i.ibb.co/1G3mhY2w/Drakothread-1.webp", type: "Air/Basic" },
            { name: "Draspodon", image: "https://i.ibb.co/6RkJtzQX/Draspodon-1.webp", type: "Fire/Insect" },
            { name: "Elefortune", image: "https://i.ibb.co/7dmVRhbh/Elefortune-1.webp", type: "Mind/Light" },
            { name: "Emoticat", image: "https://i.ibb.co/vxRkzQ23/Emoticat-1.webp", type: "Basic" },
            { name: "Emperoflame", image: "https://i.ibb.co/pVV1mRj/Leoperor-1.webp", type: "Fire" },
            { name: "Endovul", image: "https://i.ibb.co/5g9shVvN/Endovul-1.webp", type: "Crystal/Ice" },
            { name: "Exoskelis", image: "https://i.ibb.co/TMz19D9q/Exoskelis-1.webp", type: "Insect/Dark" },
            { name: "Exoskelis-A", image: "https://i.ibb.co/cc5xLy1d/Mega-skellington131-1.png", type: "Insect/Dark" },
            { name: "Exovul", image: "https://i.ibb.co/84fkbHxs/Exovul-1.webp", type: "Crystal/Fire" },
            { name: "Fabulupin", image: "https://i.ibb.co/pjzhKxF5/Fabulupin-1.webp", type: "Plant/Crystal" },
            { name: "Fancyoon", image: "https://i.ibb.co/gbCzN5LB/Fancyoon-1.webp", type: "Poison/Basic" },
            { name: "Fancyoon-A", image: "https://i.ibb.co/8LYwtZ0Z/Raccounraccoun-1.png", type: "Poison/Basic" },
            { name: "Feracoalt", image: "https://i.ibb.co/PsSsCrC7/Feracoatl-1.webp", type: "Plant/Beast" },
            { name: "Festicerbus", image: "https://i.ibb.co/vC4tZ1h8/Untitled2425-20251111153118.png", type: "Plant" },
            { name: "Finwick", image: "https://i.ibb.co/bRz7S96Y/Finwick-1.webp", type: "Water" },
            { name: "Flong", image: "https://i.ibb.co/LbN1vGV/Flong-1.webp", type: "Beast" },
            { name: "Fluppy", image: "https://i.ibb.co/LX4zCZHm/Fluppy-1.webp", type: "Light/Plant" },
            { name: "Freqrec", image: "https://i.ibb.co/PZhvj34P/ezgif-2-95e9c06675.png", type: "Spark/Mind" },
            { name: "Frigale", image: "https://i.ibb.co/8Dqqxd0K/Frigale-1.webp", type: "Air/Basic" },
            { name: "Fruitoad", image: "https://i.ibb.co/9mn2YbsT/Fruitoad-1.webp", type: "Food/Water" },
            { name: "Fummasu", image: "https://i.ibb.co/KzpGzMbq/Fummasu-1.webp", type: "Mind/Air" },
            { name: "Garghoul", image: "https://i.ibb.co/NnNnFjzh/Garghoul-1.webp", type: "Spirit/Air" },
            { name: "Gauntcier", image: "https://i.ibb.co/HLD5H6np/Gauntcier-1.png", type: "Ice/Metal" },
            { name: "Gigarlic", image: "https://i.ibb.co/xqVBZFJQ/Gigarlic-1.webp", type: "Fire/Food" },
            { name: "Girasera", image: "https://i.ibb.co/hxBQKwwf/Girasera-1.webp", type: "Plant/Poison" },
            { name: "Glacigash", image: "https://i.ibb.co/TdfFpHZ/Glacigash-1.webp", type: "Insect/Ice" },
            { name: "Gladilightor", image: "https://i.ibb.co/p65TGTpd/Gladilightor-1.png", type: "Light/Metal" },
            { name: "Glubbie", image: "https://i.ibb.co/dJbCHMZY/Glubbie-1.webp", type: "Poison/Spirit" },
            { name: "Gobblegoo", image: "https://i.ibb.co/Q7NhSXRX/Gobblegoo-1.webp", type: "Plant/Poison" },
            { name: "Goliage", image: "https://i.ibb.co/q3Hdx1zM/Goliage-1.webp", type: "Plant/Earth" },
            { name: "Gomutt", image: "https://i.ibb.co/GLtGk4V/Gomutt-1.webp", type: "Water/Beast" },
            { name: "Gourmesal", image: "https://i.ibb.co/mrZSmCXQ/Gourmesal-1.webp", type: "Food/Crystal" },
            { name: "Gowatt", image: "https://i.ibb.co/tw5MF1Gf/Gowatt-1.webp", type: "Spark" },
            { name: "Grembell", image: "https://i.ibb.co/Y7M3tFX4/Untitled141-20241111233213.png", type: "Basic" },
            { name: "Grimantle", image: "https://i.ibb.co/vvxWTdNr/Grimantle-Cloaked-1.webp", type: "Dark/Poison" },
            { name: "Grimantle-Air", image: "https://i.ibb.co/nN78jvh5/Grimantle-Uncloaked-1.webp", type: "Dark/Air" },
            { name: "Groato", image: "https://i.ibb.co/JRMDMxdp/Groato-1.webp", type: "Basic" },
            { name: "Groato-A", image: "https://i.ibb.co/216TTLtC/A-Groato-1.webp", type: "Basic/Water" },
            { name: "Grufflin", image: "https://i.ibb.co/8g9szqn6/Grufflin-1.webp", type: "Food/Air" },
            { name: "Grufflin-A", image: "https://i.ibb.co/DfC8vzkz/A-Grufflin-1.webp", type: "Food/Air" },
            { name: "Gyornaw", image: "https://i.ibb.co/KpMV9t2F/Gyornaw-1.webp", type: "Water/Beast" },
            { name: "Hahayena", image: "https://i.ibb.co/8gCVYwt8/Hahayena-1.webp", type: "Spark/Crystal" },
            { name: "Hangryphus", image: "https://i.ibb.co/fGvjtM8b/Hangryphus-1.webp", type: "Food/Melee" },
            { name: "Hangryphus-A", image: "https://i.ibb.co/chKcgnZn/Image.png", type: "Food/Melee" },
            { name: "Hattrix", image: "https://i.ibb.co/Wv9q46v7/Hattrix-1.webp", type: "Mind/Dark" },
            { name: "Hattrix-A", image: "https://i.ibb.co/4gDtyB6s/A-Hattrix-1.webp", type: "Mind/Dark" },
            { name: "Hazination", image: "https://i.ibb.co/Pv1gvf4p/Hazination-1-1.webp", type: "Poison/Metal" },
            { name: "Henchum", image: "https://i.ibb.co/TnZxsTb/Henchum-1.webp", type: "Melee/Dark" },
            { name: "Hollihare", image: "https://i.ibb.co/Z67cYDpK/Hollihare-1.webp", type: "Plant/Ice" },
            { name: "Hollihare-A", image: "https://i.ibb.co/PZ5ZkdRG/fat-fuck1.png", type: "Plant/Ice" },
            { name: "Horbeast", image: "https://i.ibb.co/b5xXLMkJ/Horbeast-1.webp", type: "Dark/Beast" },
            { name: "Humbiscus", image: "https://i.ibb.co/S7ntyndk/Humbiscus-1.webp", type: "Plant/Air" },
            { name: "Hypnotl", image: "https://i.ibb.co/tPc6RBR2/Hypnotl-1.webp", type: "Mind/Plant" },
            { name: "Hypnotl-A", image: "https://i.ibb.co/KctgdH1J/A-Hypnotl-1.webp", type: "Mind/Plant" },
            { name: "Ignisect", image: "https://i.ibb.co/rfF0Tphb/Ignisect-1.webp", type: "Fire/Insect" },
            { name: "Incinelisk", image: "https://i.ibb.co/TqHKHDWd/Incinelisk-1.webp", type: "Fire/Dark" },
            { name: "Incandesect", image: "https://i.ibb.co/fGkKjspV/Incandesect-1.webp", type: "Light/Insect" },
            { name: "Infurnius", image: "https://i.ibb.co/5x4hkzmm/Infurnius-1.webp", type: "Fire/Light" },
            { name: "Irikil", image: "https://i.ibb.co/Z4RBv70/Irikil-1.webp", type: "Dark" },
            { name: "Jackalant", image: "https://i.ibb.co/sdjHBV4z/Jackalant-1.png", type: "Spirit/Light" },
            { name: "Jaelect", image: "https://i.ibb.co/vxwg4vMw/Jaelect-1.webp", type: "Crystal" },
            { name: "Jelluminous", image: "https://i.ibb.co/qLt9t83c/Jelluminous-1.webp", type: "Light/Spark" },
            { name: "Jellupy", image: "https://i.ibb.co/TxM2qcrx/Jellupy-1.webp", type: "Food/Metal" },
            { name: "Jellupy-A", image: "https://i.ibb.co/m53ZNDRZ/Untitled324-20250629115504.png", type: "Food/Metal" },
            { name: "Jestwirl", image: "https://i.ibb.co/kgnrhxVX/Jestwirl-1.webp", type: "Mind/Basic" },
            { name: "Jinglark", image: "https://i.ibb.co/VWMBVJmp/Jinglark-1.webp", type: "Plant/Air" },
            { name: "Jinglark-A", image: "https://i.ibb.co/LXV998HS/A-Jinglark-1.webp", type: "Plant/Air" },
            { name: "Junipyro", image: "https://i.ibb.co/xqp2SBWh/Junipyro-1.webp", type: "Fire/Plant" },
            { name: "Kaboomaroo", image: "https://i.ibb.co/bMnSztjX/Kaboomaroo-M-1.webp", type: "Light/Melee" },
            { name: "Kelpimer", image: "https://i.ibb.co/Y4W1Mjk6/Kelpimer-1.webp", type: "Water/Spirit" },
            { name: "Kibara", image: "https://i.ibb.co/fYt5R6QB/Kibara-1.webp", type: "Ice/Crystal" },
            { name: "Kidere", image: "https://i.ibb.co/Z6vvwyHj/Kidere-1.webp", type: "Ice/Light" },
            { name: "Klydaskunk", image: "https://i.ibb.co/Ld062NV5/Klydaskunk-1.webp", type: "Poison/Light" },
            { name: "Korbid", image: "https://i.ibb.co/11MxSFS/Korbid-1.png", type: "Spirit/Air" },
            { name: "Koriyu", image: "https://i.ibb.co/wNBLqfxt/Koriyu-1.webp", type: "Ice/Dark" },
            { name: "Kreindus", image: "https://i.ibb.co/vvv6wcbL/Kreindus-1.webp", type: "Ice/Dark" },
            { name: "Lacergen-Base", image: "https://i.ibb.co/Mxs3gYqt/image.png", type: "Basic/Metal" },
            { name: "Lacergen-Earth", image: "https://i.ibb.co/rKT4Rmky/Lacergen-Earth-1.webp", type: "Earth/Metal" },
            { name: "Lacergen-Fire", image: "https://i.ibb.co/5h8D1FSP/Lacergen-Fire-1.webp", type: "Fire/Metal" },
            { name: "Lacergen-Ice", image: "https://i.ibb.co/Q7w3FzgN/Lacergen-Ice-1.webp", type: "Ice/Metal" },
            { name: "Lacergen-Spark", image: "https://i.ibb.co/w3HBhnZ/Lacergen-Spark-1.webp", type: "Spark/Metal" },
            { name: "Lantelope", image: "https://i.ibb.co/4QbSCmJ/Lantelope-1.png", type: "Spark/Ice" },
            { name: "Leazar", image: "https://i.ibb.co/nNhhcgdG/Leazar-1.webp", type: "Plant" },
            { name: "Lepidhonk", image: "https://i.ibb.co/kgsTxvx1/Image.png", type: "Insect/Basic" },
            { name: "Libelagua", image: "https://i.ibb.co/zWft88KD/Libelagua-1.webp", type: "Water/Insect" },
            { name: "Libelagua-A", image: "https://i.ibb.co/Rpx9gcMC/A-Libelagua-1.webp", type: "Water/Insect" },
            { name: "Lilivian", image: "https://i.ibb.co/fV4Hr49K/Lilvian-1.webp", type: "Plant/Mind" },
            { name: "Lobsugar", image: "https://i.ibb.co/tPvftWVW/Lobsugar-1.webp", type: "Food/Mind" },
            { name: "Louis", image: "https://i.ibb.co/wZzzG9C4/Louis-1.webp", type: "Basic" },
            { name: "Lumiline", image: "https://i.ibb.co/HT1X7rYZ/Lumiline-1.webp", type: "Light/Crystal" },
            { name: "Lumiline-A", image: "https://i.ibb.co/LXFXwBKP/A-Lumiline-1.webp", type: "Light/Crystal" },
            { name: "Lurkilid", image: "https://i.ibb.co/V0rRPwk3/Lurkelid-1.webp", type: "Water/Dark" },
            { name: "Maelzuri", image: "https://i.ibb.co/8LdJTbdj/Maelzuri-1.webp", type: "Water/Crystal" },
            { name: "Magmotode", image: "https://i.ibb.co/ZzD7JKvq/Magmotode-1.webp", type: "Fire/Earth" },
            { name: "Majestegg", image: "https://i.ibb.co/bjpQ6FWj/Majestegg1.png", type: "Food/Metal" },
            { name: "Majestegg-Steed", image: "https://i.ibb.co/tMY3zNtc/Hornse1.png", type: "Metal/Melee" },
            { name: "Mallemole", image: "https://i.ibb.co/hxSVBDbv/Mallemole-1.webp", type: "Beast/Basic" },
            { name: "Malotrick", image: "https://i.ibb.co/mr48hByp/Malotrick-1.webp", type: "Dark/Mind" },
            { name: "Malotrick-A", image: "https://i.ibb.co/kf25XV8/A-Malotrick-1.webp", type: "Dark/Mind" },
            { name: "Mammolten", image: "https://i.ibb.co/PGHnt9Qw/Mammolten-Erupt-1.webp", type: "Ice/Fire" },
            { name: "Mantiscald", image: "https://i.ibb.co/xSC4Lrd3/Mantiscald-1.webp", type: "Water/Fire" },
            { name: "Mantishrew", image: "https://i.ibb.co/tT8XF5GD/Mantishrew-1.webp", type: "Insect" },
            { name: "Marigrimm", image: "https://i.ibb.co/KxXS9sCN/Marigrimm-1.webp", type: "Spirit" },
            { name: "Maskomedy", image: "https://i.ibb.co/4RD9GfDc/Maskomedy-1.webp", type: "Light/Spirit" },
            { name: "Maskomedy-A", image: "https://i.ibb.co/j9MjvpjW/A-Maskomedy-2.webp", type: "Light/Dark" },
            { name: "Maskusi", image: "https://i.ibb.co/jZxNT71M/Maskusi-1.webp", type: "Mind/Air" },
            { name: "Mawsoleum", image: "https://i.ibb.co/1YGr5W0k/Mawsoleum-1.png", type: "Spirit/Earth" },
            { name: "Mawthra", image: "https://i.ibb.co/gFrVHRGP/Mawthra-1.webp", type: "Poison/Insect" },
            { name: "Mawthra-A", image: "https://i.ibb.co/tThbsss0/A-Mawthra-1.webp", type: "Poison/Metal" },
            { name: "Medikrow", image: "https://i.ibb.co/d0Fj8BLx/Medikrow-1.webp", type: "Dark/Poison" },
            { name: "Megortles", image: "https://i.ibb.co/7Nr2NJSs/Megortles-1.webp", type: "Plant" },
            { name: "Meiolicant", image: "https://i.ibb.co/s97prLxM/Meiolicant-1.webp", type: "Poison" },
            { name: "Meltimaw", image: "https://i.ibb.co/gbCfYmNj/Meltimaw-1.webp", type: "Fire/Food" },
            { name: "Mercenous", image: "https://i.ibb.co/d0TY4gkB/Mercenous-1.webp", type: "Water/Light" },
            { name: "Mielursa", image: "https://i.ibb.co/wNsh6hbc/Mielursa-1.webp", type: "Food/Insect" },
            { name: "Metalytra", image: "https://i.ibb.co/DH9PxW63/Metalytra-1.webp", type: "Insect/Metal" },
            { name: "Mold", image: "https://i.ibb.co/1fFnv8zb/Mold-1.webp", type: "Water/Poison" },
            { name: "Monolugg", image: "https://i.ibb.co/5h5kK6bC/Monolugg-1.webp", type: "Earth" },
            { name: "Montor", image: "https://i.ibb.co/mVS8Z3wV/Montor-1.webp", type: "Spark/Metal" },
            { name: "Morphiu-C", image: "https://i.ibb.co/23B07SgR/Morphiu-C-1.webp", type: "Mind/Water" },
            { name: "Morphiu-G", image: "https://i.ibb.co/21XvcBCR/Morphiu-G-1.webp", type: "Mind/Air" },
            { name: "Morphiu-L", image: "https://i.ibb.co/cc0Hv4BY/Morphiu-L-1.webp", type: "Mind/Fire" },
            { name: "Morphiu-O", image: "https://i.ibb.co/G6gTChC/Morphiu-O-1.webp", type: "Mind/Basic" },
            { name: "Morphiu-T", image: "https://i.ibb.co/PqsS6dD/Morphiu-T-1.webp", type: "Mind/Earth" },
            { name: "Moss", image: "https://i.ibb.co/35rdfnLP/Moss-1.webp", type: "Water/Plant" },
            { name: "Mourveil", image: "https://i.ibb.co/0jZfT5hV/Mourveil-1.webp", type: "Plant/Dark" },
            { name: "Mourveil-A", image: "https://i.ibb.co/kgVyyFBf/A-Mourveil-1.webp", type: "Plant/Dark" },
            { name: "Moyai", image: "https://i.ibb.co/pF0zg6G/Moyai-1.webp", type: "Earth" },
            { name: "Myphoxic", image: "https://i.ibb.co/5X01v9b2/Myphoxic-1.png", type: "Poison" },
            { name: "Mystifaux", image: "https://i.ibb.co/mVTJBJZS/Mystifaux-1.webp", type: "Dark/Mind" },
            { name: "Nepteros", image: "https://i.ibb.co/4w0V7yw4/Nepteros-1.webp", type: "Water/Dark" },
            { name: "Nimbell", image: "https://i.ibb.co/jZWDLDHJ/Nimbell-1.webp", type: "Light" },
            { name: "Noctoryx", image: "https://i.ibb.co/yBsWFXhg/Noctoryx-1.webp", type: "Dark/Crystal" },
            { name: "Novawing", image: "https://i.ibb.co/ZpN5nN54/Novawing-1.webp", type: "Dark/Air" },
            { name: "Noxvul", image: "https://i.ibb.co/4ZVgKq1W/Noxvul-1.webp", type: "Poison/Crystal" },
            { name: "Nyanto", image: "https://i.ibb.co/spmdZfFR/Nyanto-1.webp", type: "Insect/Basic" },
            { name: "Nyanto-A", image: "https://i.ibb.co/J0CPgXL/A-Nyanto-1.webp", type: "Insect/Air" },
            { name: "Octonut", image: "https://i.ibb.co/Kxmk598X/Octonut-1.webp", type: "Water" },
            { name: "Omeletrot", image: "https://i.ibb.co/W4BZbzh1/Hornse-no-egg1.png", type: "Melee/Food" },
            { name: "Onirijyn", image: "https://i.ibb.co/wZdryY61/Onirijyn1.webp", type: "Spark/Beast" },
            { name: "Osman-shi", image: "https://i.ibb.co/JWc6HX4J/Osman-shi-1.webp", type: "Food/Spirit" },
            { name: "Ostigon", image: "https://i.ibb.co/s9ZrC8bN/Ostigon-1.webp", type: "Beast/Poison" },
            { name: "Ostigon-A", image: "https://i.ibb.co/HfdQXwfy/A-Ostigon-1.webp", type: "Dark/Poison" },
            { name: "Owol", image: "https://i.ibb.co/gLMHWgMR/Owol-1.webp", type: "Air" },
            { name: "Partybug", image: "https://i.ibb.co/35B2tdn3/Partybug-1.webp", type: "Insect/Mind" },
            { name: "Partybug-A", image: "https://i.ibb.co/twhWrjW9/A-Partybug-1.webp", type: "Beast/Mind" },
            { name: "Peaktrice-F", image: "https://i.ibb.co/4ZbsdbFV/Peakatrice-F-1.png", type: "Fire/Melee" },
            { name: "Peaktrice-M", image: "https://i.ibb.co/gMKmcWxv/Peakatrice-M-1.png", type: "Fire/Melee" },
            { name: "Phantern", image: "https://i.ibb.co/Tx2V2Tkh/Phantern-1.png", type: "Light/Spirit" },
            { name: "Polargeist", image: "https://i.ibb.co/0ptcTmV7/Polargeist-1.webp", type: "Ice/Spirit" },
            { name: "Pompaboar", image: "https://i.ibb.co/Y48NhZp0/Pompaboar-1.webp", type: "Basic" },
            { name: "Potterfiend", image: "https://i.ibb.co/ymBB33mB/Potterfiend-1.webp", type: "Earth/Dark" },
            { name: "Prickles", image: "https://i.ibb.co/tPwVLrjm/Prickles-1.webp", type: "Plant/Melee" },
            { name: "Qilintel", image: "https://i.ibb.co/2Yq0Wxpq/Qilintel-1.webp", type: "Light/Metal" },
            { name: "Reliconis", image: "https://i.ibb.co/d41nS4Kw/Reliconis-1.webp", type: "Spirit/Beast" },
            { name: "Rhinostone", image: "https://i.ibb.co/SDDvcKkb/Rhinostone", type: "Earth/Crystal" },
            { name: "Ribbotl", image: "https://i.ibb.co/ksc17JXq/Ribbotl-1.webp", type: "Mind" },
            { name: "Riptorvent", image: "https://i.ibb.co/PZ9YbcP6/Riptorvent-1.webp", type: "Spark/Beast" },
            { name: "Riptorvent-A", image: "https://i.ibb.co/vFkrQ3f/dragon.png", type: "Spark/Beast" },
            { name: "Roadterra", image: "https://i.ibb.co/d0kjLRMQ/Roadterra-1.webp", type: "Earth/Air" },
            { name: "Runewt", image: "https://i.ibb.co/wF702S6r/Runewt-1.webp", type: "Earth/Mind" },
            { name: "Salaferno", image: "https://i.ibb.co/MkV1dQVG/Salaferno-1.png", type: "Fire" },
            { name: "Sauschund", image: "https://i.ibb.co/prsSQ3Vj/Image.png", type: "Food" },
            { name: "Scarfox", image: "https://i.ibb.co/WWV8Rkbc/Scarfox-1.webp", type: "Ice" },
            { name: "Scarrion", image: "https://i.ibb.co/rGq2yNJw/Scarrion-1.webp", type: "Spirit/Poison" },
            { name: "Scheemeesh", image: "https://i.ibb.co/vCRtgG4N/Schemeesh-1.webp", type: "Water/Basic" },
            { name: "Scorsurge", image: "https://i.ibb.co/dsMvnjxh/Scorsurge-1.webp", type: "Spark/Poison" },
            { name: "Seacrion", image: "https://i.ibb.co/tTy8MDX3/Seacrion-1.webp", type: "Water/Beast" },
            { name: "Seamknight", image: "https://i.ibb.co/wZXd9132/Seamknight-Guard-1.webp", type: "Metal/Spirit" },
            { name: "Seamstress", image: "https://i.ibb.co/DHkMrS4L/Seamstress-Strike-1.webp", type: "Metal/Spirit" },
            { name: "Serpentsheen", image: "https://i.ibb.co/RGJBrdL1/Serpentsheen-1.webp", type: "Metal/Crystal" },
            { name: "Serrafin", image: "https://i.ibb.co/Qv2zsB5s/Serrafin-1.webp", type: "Metal/Water" },
            { name: "Shroudal", image: "https://i.ibb.co/bMPLBgF2/Shroudal-1.png", type: "Plant/Mythic" },
            { name: "Sigilune", image: "https://i.ibb.co/rRsTN5JF/Sigilune-1.png", type: "Spirit/Metal" },
            { name: "Skadean", image: "https://i.ibb.co/gFjC44VZ/Skadean-1.webp", type: "Ice/Water" },
            { name: "Skadean-A", image: "https://i.ibb.co/Kj5g4BDz/A-Skadean-1.webp", type: "Ice/Water" },
            { name: "Skervidae", image: "https://i.ibb.co/20HnYgfk/Skervidae-1.webp", type: "Spark/Fire" },
            { name: "Skorpiruli", image: "https://i.ibb.co/xS5Dnv2P/Skorpirul-1.webp", type: "Food/Poison" },
            { name: "Snoaster", image: "https://i.ibb.co/zT97M75Z/Snoaster1.png", type: "Metal/Basic" },
            { name: "Snorolla", image: "https://i.ibb.co/xSzcJjNL/Snorolla-1.webp", type: "Ice/Basic" },
            { name: "Snowclowne", image: "https://i.ibb.co/KcM8YpGL/Snowclone-1.webp", type: "Food/Ice" },
            { name: "Snowclowne-A", image: "https://i.ibb.co/v60TZCsS/SPOILER-theclowne.png", type: "Ice/Food" },
            { name: "Somberock", image: "https://i.ibb.co/Ly7B8wX/Somberock-1.webp", type: "Food/Dark" },
            { name: "Somberock-A", image: "https://i.ibb.co/6RVTdrLp/A-Somberock-1.webp", type: "Food/Light" },
            { name: "Spectatik", image: "https://i.ibb.co/svdj84TJ/Spectatik-1.webp", type: "Crystal/Insect" },
            { name: "Spectatik-a", image: "https://i.ibb.co/Y7MLPzMv/A-Spectatik-1.webp", type: "Crystal/Insect" },
            { name: "Spectrowl", image: "https://i.ibb.co/w2GCvn6/Spectrowl-1.png", type: "Spirit/Metal" },
            { name: "Springling", image: "https://i.ibb.co/zWHPBzc0/Springling-1.webp", type: "Plant/Basic" },
            { name: "Spunny", image: "https://i.ibb.co/393wQy0f/Spunny-1.webp", type: "Basic/Spirit" },
            { name: "Squonk", image: "https://i.ibb.co/rR7PVkQy/Squonk-1.webp", type: "Spirit/Plant" },
            { name: "Stagine", image: "https://i.ibb.co/9HygQwYv/Stagine-1.webp", type: "Plant/Metal" },
            { name: "Staligant-A", image: "https://i.ibb.co/Qxj5Gh3/A-Staligant-1.webp", type: "Crystal/Mind" },
            { name: "Staligant-F", image: "https://i.ibb.co/zV7c8QDP/Staligant-F-1.webp", type: "Crystal/Mind" },
            { name: "Staligant-M", image: "https://i.ibb.co/kV5Mhccw/Staligant-1.webp", type: "Crystal/Mind" },
            { name: "Sukikogami", image: "https://i.ibb.co/1GWbyNBj/Sukikogami-1.webp", type: "Dark/Air" },
            { name: "Suomous", image: "https://i.ibb.co/ddzbXt6/Suomous-1.webp", type: "Melee" },
            { name: "Suomous-A", image: "https://i.ibb.co/DfSmjHg2/A-Suomous-1.webp", type: "Melee" },
            { name: "Sursablit", image: "https://i.ibb.co/d0xP7yGJ/Sursablit-1.webp", type: "Earth/Spark" },
            { name: "Swoptar", image: "https://i.ibb.co/zhtHc4jn/Swoptar-1.webp", type: "Metal/Beast" },
            { name: "Taryonix", image: "https://i.ibb.co/nNSHph4p/Taryonix-1.webp", type: "Beast/Earth" },
            { name: "Tasmarauder", image: "https://i.ibb.co/sp8RcScC/Tasmarauder-1.webp", type: "Melee/Beast" },
            { name: "Taxideer", image: "https://i.ibb.co/bggNpkVc/Taxideer-1.webp", type: "Spirit/Basic" },
            { name: "Terraphim", image: "https://i.ibb.co/Fb425XfX/Terraphim-1.png", type: "Light/Air" },
            { name: "Terruma", image: "https://i.ibb.co/fGk0f43H/Terruma-1.webp", type: "Earth/Basic" },
            { name: "Theaterror", image: "https://i.ibb.co/mrY9NzBV/Theaterror-1.webp", type: "Dark/Spirit" },
            { name: "Theaterror-A", image: "https://i.ibb.co/XrGnt0N0/A-Theaterror-1.webp", type: "Dark/Light" },
            { name: "Thornet", image: "https://i.ibb.co/TDzcVMzg/Thornet-1.webp", type: "Plant/Insect" },
            { name: "Thornet-A", image: "https://i.ibb.co/1Y6HtYMX/A-Thornet-1.webp", type: "Plant/Metal" },
            { name: "Tigrousel", image: "https://i.ibb.co/LXwN3vj1/Tigrousel1.png", type: "Mind/Metal" },
            { name: "Tiricket", image: "https://i.ibb.co/twrFVxrC/Tiricket11.png", type: "Food/Insect" },
            { name: "Toxisui", image: "https://i.ibb.co/39MVcP9Z/Toxisui-1.webp", type: "Water/Poison" },
            { name: "Trithorn", image: "https://i.ibb.co/Z1HQJv7x/Trithorn-1.png", type: "Plant" },
            { name: "Tsumo", image: "https://i.ibb.co/JWW2cL87/Tsumo-1.webp", type: "Melee/Fire" },
            { name: "Tufflaze", image: "https://i.ibb.co/Zpkg0g7f/Tufflaze-1.webp", type: "Fire/Beast" },
            { name: "Tufflaze-A", image: "https://i.ibb.co/0VjQ28H1/A-Tufflaze-1.webp", type: "Fire/Beast" },
            { name: "Tulenna", image: "https://i.ibb.co/8LJxfypL/Tulenna-1.webp", type: "Plant" },
            { name: "Tulenna-A", image: "https://i.ibb.co/Xk2STDXs/A-Tulenna-1.webp", type: "Plant/Poison" },
            { name: "Twisstler", image: "https://i.ibb.co/N6pvTbbF/Image.png", type: "Food/Poison" },
            { name: "Umaisho", image: "https://i.ibb.co/zhVB1Fj8/Umaisho-1.webp", type: "Food" },
            { name: "Umaisho-A", image: "https://i.ibb.co/60C56kcL/A-Umaisho-1.webp", type: "Food" },
            { name: "Uwursa", image: "https://i.ibb.co/4ggVBSSW/Uwursa-1.webp", type: "Metal/Basic" },
            { name: "Velocivult", image: "https://i.ibb.co/B50hcsBz/Velocivult-1.png", type: "Spark" },
            { name: "Velodo", image: "https://i.ibb.co/6J87ZSW7/Velodo-1.webp", type: "Beast/Air" },
            { name: "Vermorph", image: "https://i.ibb.co/PG72sXXd/Vermorph-1.webp", type: "Spark/Insect" },
            { name: "Vermorph-A", image: "https://i.ibb.co/QvMzMzjy/A-Vermorph-1.webp", type: "Spark/Insect" },
            { name: "Vigimante", image: "https://i.ibb.co/G4kr2d83/Vigimant-1.webp", type: "Water/Melee" },
            { name: "Vigimante-A", image: "https://i.ibb.co/1Gj2nSNy/A-Vigimant-1.webp", type: "Water/Melee" },
            { name: "Volcanaur", image: "https://i.ibb.co/8L2XdHLK/Volcanaur-1.png", type: "Fire" },
            { name: "Voltatoo", image: "https://i.ibb.co/TM549RHq/Voltatoo-1.webp", type: "Spark/Air" },
            { name: "Voltenchant", image: "https://i.ibb.co/WWVCThdy/Voltenchant-1.webp", type: "Spark" },
            { name: "Voltenchant-A", image: "https://i.ibb.co/5XpHsNS2/A-Voltenchant-1.webp", type: "Spark/Water" },
            { name: "Vuliable", image: "https://i.ibb.co/d05SQ4HX/Vuliable-1.webp", type: "Crystal/Basic" },
            { name: "Werewool", image: "https://i.ibb.co/7tJwsrxH/Werewool-1.webp", type: "Beast/Basic" },
            { name: "Wolfreeze", image: "https://i.ibb.co/HDY1VCdg/Wolfreeze-1.webp", type: "Ice/Beast" },
            { name: "Wizvil", image: "https://i.ibb.co/Ps1fPMXL/Wizvil-1.webp", type: "Insect/Plant" },
            { name: "Wyvernal", image: "https://i.ibb.co/VWgxPsCR/Wyvernal-1.webp", type: "Fire/Air" },
            { name: "Yorus", image: "https://i.ibb.co/ynXRQvn4/Yorus-1.webp", type: "Beast" },
            { name: "Zapoeira", image: "https://i.ibb.co/pjjBsLmj/Zapoeira-1.webp", type: "Spark/Melee" },
            { name: "Zeepringo", image: "https://i.ibb.co/PzZBk3d8/Zeepringo-1.png", type: "Mind/Melee" },
            { name: "Zerzura", image: "https://i.ibb.co/x8YTpzGZ/Zerzura-1.webp", type: "Water/Air" },
        ];

        const basicMoves = [
            "Allure", "Armor Break", "Armor Up", "Bark", "Blowup Blast", 
            "Body Slam", "Boom Boom", "Boring Show", "Calming Melody", 
            "Careless Assault", "Cauterizing Smash", "Center of Attention", 
            "Charge", "Chemical Breath", "Claw Swipes", "Climate Shot", 
            "Coil", "Combo Support", "Crit Up", "Crocodile Tears", 
            "Cutesy Glare", "Disarm", "Dispose", "Do Nothing", "Entertain", 
            "Equality", "Focus", "FTL Assault", "Glancing Blow", "Harden", 
            "Haste", "Headbutt", "Heal", "Hide", "Hop", "Howl", "Hype Up", 
            "Hyper Scream", "Hyper Voice", "Jolly Dance", "Lick", "Marking Bite", 
            "Mock Charge", "Multi-Hit", "Multi-Smack", "Panhandle", "Party!", 
            "Patchwork", "Pirouette", "Preparation", "Protect", "Purl Stitch", 
            "Quick Strike", "Relief", "Roll", "Sad Zone", "Scapegoat", "Scram", 
            "Screech", "Shellshock", "Shield Bash", "Slash", "Smack", "Smokescreen", 
            "Squeak", "Starbreaker", "Subterfuge", "Swagger Dance", "Swipe", 
            "Tail Smack", "Tourniquet", "Trap", "Tri-Elemental Slash", "Wildcard", 
            "Wrap", "Yarn Snare","Elemental Claws", "Mood Swing","Final Gambit","Loyalty","Fortify", "Metachrosis",
            "Curious Beam",
        ];

        const mythicMoves = [
            "Attack Seal", "Louis Prayer", "Meteor Shower", 
            "Mythic Blast", "Playtime's Over", "Reverse Singularity", 
            "The World", "Astral Vision"
        ];

        const fireMoves = [
            "Boil Bomb", "Burning Orb", "Fiery Bite", "Fiery Punch", 
            "Fiery Slash", "Fireball", "Firebolt", "Firecracker", 
            "Flame Rattle", "Flame Shield", "Flames of Gehenna", 
            "Forest Fire", "Foxfire", "Heat Bash", "Inflame", 
            "Incinerate", "Lava Toss", "Raging Bonfire", "Sizzle", 
            "Solar Flare", "Soulfire","Pyroclast", "Infernal Hold",
            "Charcoil", "Boiling Point", "High Degree Bake","Final Explosion"
        ];

        const waterMoves = [
            "Aquagel", "Aqua Cannon", "Bubble Shield", "Capsize", 
            "Croak", "Fin Slash", "Hydro Burst", "Hydraulic Crash", "Rainmaker", 
            "Rapid Current", "Rip Current", "Rust", "Siren Song", 
            "Storm Heal", "Swamp", "Tainted Water", "Tears of Sorrow", 
            "The Flood", "Tidal Slam", "Tsunami", "Tsunami Drop", 
            "Waterbolt", "Wave Shot", "Boiling Bullet",
        ];

        const plantMoves = [
            "1,000 Needles", "Armillaria", "Barb Barrier", 
            "Barkskin", "Branch Launch", "Compost", 
            "Entangling Vines", "Floral Fang", "Hemlock Hit", 
            "Leaf Blade", "Leaf Sap", "Leaf Tornado", 
            "Life Roots", "Life Sap", "Lilypad Leap", 
            "Nature's Guardian", "Needle Spike", "Paralysis Spores", 
            "Parasitic Seeds", "Plant Sap", "Pumpkin Spin", 
            "Rage Spores", "Sakura Blast", "Seed Assault", 
            "Slash and Burn", "Sleep Spores", "Thorns of Wrath", 
            "Thorny Thwack", "Wild Growth", "Gardentend", "Bunny Distraction", "Rotting Mire", "Territorial Assault",
            "Hiding Pumpkin","Triple Threat",
        ];

        const electricMoves = [
            "Crackling Static", "Electrical Burns", "Electrify", 
            "Electro Bite", "Electro Punch", "Electro Slash", 
            "Energized", "Lightning Kicks", "Pylons", 
            "Quad Strike", "Recharge", "Shock", 
            "Shock Therapy", "Shock Wave", "Taser", 
            "Thunder Strike", "Thunderstorm", "Zeppelin Zap","Thunder Drum","Jolt","Voltage Slide", "Breakneck Blitz", "Jolt",
            "Jumpstart",
        ];

        const beastMoves = [
            "Berserk", "Bestial Roar", "Bestial Wrath",
            "Bite", "Call of the Wild", "Crunch",
            "Double Bite", "Feral Fury", "Ferocious Onslaught",
            "Horn Pierce", "Jumble Clobber", "Primal Rage",
            "Ravenous Rush", "Savage Blow", "Sharp Claws",
            "Treacherous Gnaw", "War Cry", "Wild Ravage","Commanding Blow",
            "Steel Crusher",
        ];

        const airMoves = [
            "Aerial", "Aero Storm", "Air Strike",
            "Balloon Boost", "Eagle Eye", "Festive Fervor",
            "Gust", "Hit-n-Run", "Jet Strike",
            "Nose Dive", "Peck", "Shifting Winds",
            "Sylphid", "Tempest", "Wind Shear",
            "Wing Slash","Sky Rend"
        ];

        const bugMoves = [
            "Antenna Beam", "Bee Summon", "Butterfly Effect",
            "Entomophobia", "Fatal Sting", "Insect Instinct",
            "Itchy Bite", "Mandible Wound", "Nibble",
            "Quick Sting", "Serrated Claws", "Skitter",
            "Swaddle", "Swarm", "Web", "Web Ball","Panic Pounce","Spicefield",
            "Hivemind","Malware Mangle","Opening Talon","Nectar Sip"
        ];

        const earthMoves = [
            "Dirt Lump", "Earth Lance", "Earth Surge",
            "Earthquake", "Landslide", "Mend",
            "Mud Spit", "Mud Wave", "Pebble",
            "Rumbling Charge", "Rusty Roots", "Sandstorm",
            "Sedimentary Defense", "Shale", "Shatter",
            "Shell Crash", "Stalactites", "Stampede"
        ];

        const mindMoves = [
            "Agitate", "Ascending Flow", "Compose",
            "Enlightenment", "Forced Repetition", "Harmony",
            "Magical Shield", "Meditation", "Mind Drain",
            "Mind Empowerment", "Mind Power", "Psychic Ram",
            "Psycho Crush", "Psychoforce", "Psychokinetic Launch",
            "Quick Thinking", "Recombobulate", "Rest",
            "Sleep n' Steal", "Timed Trap", "Trade",
            "Trait Exchange", "Wide Shield","Teletoss", "Psychic Mirror",
            "Mind Break",
        ];

        const meleeMoves = [
            "Adrenaline", "Body Throw", "Bone Club", "Challenge", "Chi Blast",
            "Clumsy Swing", "Counter Punch", "Crush", "Daze", "Drill Sergeant",
            "Energy Wave", "Flurry", "Helicopter Kick", "Life-Ender", "Piercing Poke",
            "Pummel", "Ready to Fight", "Reckless Charge", "Roundhouse Kick",
            "Solid Charge", "Swift Hook", "Swift Shield", "Toughen", "Unguarded Strike",
            "Gut Punch", "Talon Strike", "Punch Box",
        ];

        const foodMoves = [
            "Bullet Corn", "Cake Walk", "Chocolate Rain", "Create Jelly", "Devour",
            "Empty Calories", "Fast Food", "Fatten Up", "Feast", "Food Fight",
            "Glaze Punch", "Heckie", "Honey Slap", "Just Desserts", "Nutrient Drain",
            "Pie Gag", "Seasoning", "Snack Chomp", "Spicy Tackle", "Sugar Kiss",
            "Sugar Rush", "Sweet Aroma", "Takeout","Savory Slam", "Last Course", "Sweet Remains","Sugarfade",
            "Explosive Popcorn","Sugar Crash","Sugar Shock","Bite and Blight",
        ];

        const lightMoves = [
            "Abyss Breaker", "Aurora Flash", "Blinding Lights", "Blessed Blade",
            "Continuous Sheen", "Divine Light", "Flare", "Flashbang", "Flashing Strike",
            "Glimmer Wing", "Glow Up", "Hope Beacon", "Laser", "Lightspeed Flurry",
            "Purge", "Radiant Beam", "Shining Severance", "Light Hook","Blazing Comet",
            "Light Show", "Dissolution", "Flicker", "Sacred Lunge", "Light Noise",
        ];

        const crystalMoves = [
            "Alloy Missiles", "Crystal Armor", "Crystal Arrow", "Crystal Cut",
            "Crystal Dust", "Crystal Storm", "Crystal Wall", "Diamond Dash",
            "Flaunt", "Gem Blast", "Geode Smash", "Jewel Jab", "Opal Pulse",
            "Rupture", "Shard Surge", "Sparkling Finish", "Transcendent Power","Gleamspire"
        ];

        const metalMoves = [
            "Binary Blitz", "Bonk", "Chain Imprisonment", "Gatling Gifts",
            "Iron Chomp", "Iron Slash", "Mercury Puddle", "Meteor Launch",
            "Mineral Cannon", "Precision Dart", "Scissor Guard", "Sharpen",
            "Stab", "Sword Sweep","Regal Edge","Clampbound","Echo Broadcast",
            "Merry-Go-Breaker","Corkscrew Crash","Iron Embrace"
        ];

        const spiritMoves = [
            "Befuddlement", "Consume", "Treasure Curse", "Drain Life",
            "Gleeful Ruse", "Haunt", "Hex", "Hexblade", "Hex Punch",
            "Incantation", "Intangible", "Jealousy", "Misery Dance",
            "Murmur", "Necromancy", "Shadow Lurk", "Shadowy Eyes", "Sob",
            "Spectral Ire", "Spirit Claws", "Spirit Orb", "Vague Vortex",
            "Whisper", "Phantom Rush","Boo!","Ghostly Maw", "Healing Pumpkin",
            "Korbidal Nuke", "Hypnotizing Spiral", "Perish Cry", "Spirit Bomb"
        ];

        const iceMoves = [
            "Absolute Zero", "Arctic Blitz", "Bowling Strike", "Chilling Chorus",
            "Cone Cannon", "Cone of Cold", "Flash Freeze", "Frostbite", "Frostgrip",
            "Glacial Cleave", "Glacial Siphon", "Ice Prison", "Icefall", "Icy Bite", "Icy Floor",
            "Icy Punch", "Icy Slash", "Icy Veil", "Piercing Ice", "Quick Ice",
            "Royal Ice", "Snap Freeze", "Snow Fort", "Snow Roller", "Snowball",
            "Subzero Blizzard", "Glacier Roll", "Shardclaw", "Cryoshock", "Ice Scream",
        ];

        const darkMoves = [
            "Ambush", "Chaotic Bolt", "Choke", "Cold Glance", "Dark Blast",
            "Dark Slash", "Darkness Expansion", "Expectorate", "Frenzied Darkness",
            "Hiss", "Insult", "Mutiny", "Night Night", "Pickpocket", "Pure Fear",
            "Pursuit", "Retribution", "Revitalize", "Scrutinize", "Shadowbolt",
            "Shadowstep", "Siphon Soul", "Sonata of Darkness", "Taunt",
            "Vampiric Strike", "Worthwhile Sacrifice","Mallet Crush"
        ];

        const poisonMoves = [
            "Acid Rain", "Bad Odor", "Belch", "Chemical Cleave", "Food Poisoning",
            "Foreign Substance", "Goo Blast", "Infection", "Lingering Poison",
            "Poison Gas", "Poison Ivy", "Poison Punch", "Poison Spores",
            "Sulfur Plume", "Surprise!", "Toxic Bomb", "Venom Bite",
            "Venom Lacerate", "Venomous Sting", "Canister","Last Lament", "Witch's Brew"
        ];

        const helmets = ["None", "Artificer's Beanie", "Aviator Helmet", "Bowlcut", "Candy Headphones", "Decorated Hairclip", "Doodad", "Drenched Sunhat", "Eggshell Helmet", "Epic Shades", "Feathered Hat", "Glummish Cap", "Head Leaf", "Horned Headband", "Magnificent Tophat", "Marshmellow Fedora", "Pale Sunbonnet", "Scuba Goggles", "Smoldering Hood", "Theatre Mask", "Tinfoil Hat", "Preformers Mask", "Clown Hair"];
        
        const amulets = ["None", "Crystal Shard", "DIY Pin", "Dark Brooch", "Dusty Bandana", "Festive Bow", "Geode Pendant", "Helpful Lantern", "Juniper Necklace", "Mini Camera", "Ornate Necklace", "Rock Candy", "Ruby Pendant", "Sandstone Necklace", "Sapphire Amulet", "Scrap Paper", "Sticky Pendant", "Stone Necklace", "Swag Juice", "Toxic Vial", "Vial of Tears", "Whatchamacallit", "Buggle Ball", "Penant String"];
        
        const artifacts = ["None", "Amber Trapped Fly", "Beach Ball", "Broken Clay", "Chewed Up Bone", "Coal", "Computer Mouse", "Crumpled Water Bottle", "Decorative Katana", "Faunsprout Tail", "Fluffy Feather", "Golden Stick", "Luminous Orb", "Oakwood Staff", "Pizza Slice", "Potted Cactus", "Pure Tear", "Sad Pebblett", "Scone", "Scrapped Cardboard", "Stick", "Thingamajig", "Tombstone", "White Chocolate", "Firework", "Popcorn"];
        
        const stats = ["+10% Health", "+10% Attack", "+10% Defense", "+10% Magic Attack", "+10% Magic Defense", "+10% Speed"];
        
        const heldItems = ["None", "Acid Storm in a Bottle", "Air Candy Cube", "Air Taffy", "Arid Wand", "Basic Candy Cube", "Basic Taffy", "Battery", "Beast Candy Cube", "Beast Taffy", "Blueprint", "Bubblegum", "Bubble Wand", "Champion Belt", "Conductor's Baton", "Confectioner's Wand", "Corrosive Wand", "Crooked Talon", "Crystal Candy Cube", "Crystal Taffy", "Cure Jelly", "Cursed Cloak", "Dark Candy Cube", "Dark Chocolate", "Dark Taffy", "Decorative Fan", "Defensive Jelly", "Delicate Wing", "Determination Jelly", "Determination Headband", "Earth Candy Cube", "Earth Data", "Earth Taffy", "Empowered Ring", "Enchanted Emerald", "Enchanted Ruby", "Enchanted Sapphire", "Fire Candy Cube", "Fire Data", "Fire Taffy", "Food Candy Cube", "Food Taffy", "Friendship Ribbon", "Frozen TV Dinner", "Gauze Wrap", "Glasses", "Grease", "Heal Jelly", "Homemade Plush", "Heal Jelly", "Ice Candy Cube", "Ice Data", "Ice Pack", "Ice Taffy", "Imbued Relic", "Insect Candy Cube", "Insect Taffy", "Jetpack", "Laminate", "Lethal Ornament", "Lighter", "Light Candy Cube", "Light Taffy", "Lucky Pebble", "Magical Jelly", "Magic Wand", "Matchbox", "Melee Candy Cube", "Melee Taffy", "Metal Candy Cube", "Metal Taffy", "Mind Candy Cube", "Mind Taffy", "Moon Charm", "Mythic Candy Cube", "Mythic Taffy", "Perfect Alloy", "Plant Candy Cube", "Plant Taffy", "Poison Candy Cube", "Poison Taffy", "Power Jelly", "Pretty Seashell", "Questionable Sludge", "Refined Crystal", "Refractive Prism", "Riot Shield", "Running Shoes", "Sickly Doze", "Sponge", "Small Sprout", "Sniper Scope", "Spark Candy Cube", "Spark Data", "Spark Taffy", "Speed Jelly", "Spirit Candy Cube", "Spirit Jar", "Spirit Taffy", "Starry Glasses", "Stormy Wand", "Strength Jelly", "Studded Fang", "Spiky Thorns", "Soothing Charm", "Unwashed Plushie", "Used Crayons", "Used Timber", "Wake-Up Jelly", "Water Candy Cube", "Water Taffy", "Wierd Jelly", "Hypnotl's Antigen", "Calamander's Candy", "Umaisho Matcha", "Ostigon Collar", "Vermorph Goggles", "Jinglark Present", "Mawthra Rune", "Thornet Rune", "Tufflaze Rune", "Voltenchant Rune", "Theaterror Rune", "Maskomedy Rune", "Mourveil Rune", "Malotrick Rune", "Tulenna Rune", "Staligant Rune", "Corrolizard Rune", "Staligant Rune", "Grufflin Rune", "Skadean Rune", "Partybug Rune", "Somberock Rune", "Nyanto Rune", "Suomous Rune", "Daeferno Rune", "Vigimante Rune", "Groato Rune", "Lumiline Rune", "Cacmeow Rune", "Cryotera Rune", "Spectatik Rune", "Bionotic Rune", "Archopos Rune", "Cerebopod Rune", "Hattrix Rune", "Cragildae Rune", "Bubbul Rune", "Snowclowne Silly Cone", "Onion", "Ruler", "Doomflower", "Potassium Conduit", "Jellupy Whisk", "Fancyoon Boa", "Yo-yo", "Old Monitor", "Pinball String", "Prize Claw", "Video Game Controller", "Arcade Joystick", "Surge DNA (Velocivult)", "Spore DNA (Trithorn)", "Ember DNA (Volcanur)", "Virus DNA (Myphoxic)", "Hangryphus Pie", "Exoskelis Shard", "Void Jelly", "Relay Jelly", "Loop Jelly", "Whirlwind Jelly", "Bell Jelly", "Gift Jelly", "Nesting Doll", "Plastic Fangs", "Riptorvent Rune", "Hollihare Wreath"];
        
        const traits = ["Absorber", "Accelerate", "Acid Advance", "Adaptive", "Adipose", "Air Current", "Alacrity", "Almagest", "Aloe Vera", "Ambrosia", "Amp It Up", "Analytical", "Annihilation", "Annoying Insect", "Anti-Paralysis", "Antivenom", "Apathetic", "Apex", "Apparition", "Archmage", "Arid", "Arsonist", "Avenger", "Balloon Pop", "Banana Peel", "Bandit", "Barkenstein", "Basic Care", "Battery Charge", "Bee Arena", "Berry Good", "Bird of Prey", "Blinding Rocks", "Bludgeon", "Bogdown", "Bon Appetit", "Botulism", "Brainwash", "Bright Lights", "Bubble Blaster", "Bug Zapper", "Bulwark", "Burning Beast", "Burning Body", "Bypass", "Caliginous", "Calm", "Caloric Deficit", "Capoeira", "Capricious", "Cardinal Sins", "Careless", "Chanting", "Chef", "Chemical Explosion", "Chivalry", "Chlorobite", "Chlorokinesis", "Chocolate Drizzle", "Clearcut Ore", "Combustion", "Composed", "Concentrated", "Conductor", "Confidence", "Contagion", "Corrosion", "Courteous", "Covetous", "Cracked", "Crispy", "Crowd Support", "Crude", "Crystalline", "Crystallization", "Daring Devil", "Dauntless", "Decay", "Deepfreeze", "Delicate", "Desert Body", "Destructive Anger", "Deterrant Sabre", "Detox", "Dimwitted", "Direct Combatant", "Doll Eyes", "Discover", "Divine Beast", "Downpour", "Duel", "Durable", "Dust Dash", "Dust Storm", "Edible Treat", "Efficient Proxy", "Electrocute", "Elegance", "Elemental Resist", "Enfeeble", "Entangle", "Entertainer", "Envy", "Eruption", "Escapist", "Ethereal", "Evasive", "Everlasting", "Evil Glare", "Exoskeleton", "Extinguisher", "Ferocity", "Filament", "Fire Up", "Fireproof Armor", "Firestarter", "Firewall", "First Degree Burns", "Fish Outta Water", "Floaty", "Foam Guard", "Forbidden Knowledge", "Fortified", "Four Eyes", "Fur Coat", "Galvanize", "Gaseous Form", "Gauze", "Gift Giver", "Gloomy", "Glutton", "Goliath", "Graceful", "Grass Cloak", "Guardian", "Guilt", "Gunk Spark", "Hammer Claw", "Hammer Time", "Hard Candy", "Hardy", "Harlequin", "Hawkeye", "Healthy Toxins", "Heavy Storms", "Helios", "Herbivore", "Hidden Strength", "High Value Target", "Hiruddtherapy", "Holy Water", "Hunter", "Hydration", "Hypothermia", "Ice Stream", "Ignorant", "Illogical", "Incandescent", "Insatiable Greed", "Iron Will", "Jab Cross", "Jelly Enhancer", "Jelly Lover", "Jester Privilege", "Electrician", "Kaleidoscope", "Karna", "Kindling", "Leech", "Levitate", "Light Orb", "Lightfooted", "Lipid Scale", "Lithe", "Luminosity", "Magician", "Mark Territory", "Melting Point", "Menacing Snarl", "Mental Depletion", "Mental Momentum", "Merciless", "Mimic", "Mind Control", "Mind Games", "Misery Guard", "Molt", "Moratorium", "Mushboom", "Mushroom Maneuver", "Naughty List", "Night Harbinger", "Nihil", "Nimble", "Nimbostratus", "Nitelite", "Nonchalant", "Nullify", "Oasis Deity", "Oil Spill", "Opportunist", "Outboxer", "Overbite", "Overwhelm", "Owolspeed", "Paper Cut", "Paralyzing Agent", "Parry", "Pecking Order", "Poison Absorb", "Poison Precipitation", "Poisonous Skin", "Pollen Armor", "Possession", "Precise", "Premonition", "Proboscis", "Pugilist", "Puncture", "Puppeteer", "Rain Power", "Ramming Speed", "Rapier", "Razor Skin", "Reactive Shock", "Reaper", "Reflective", "Reformation", "Refresh", "Refreshed Resilience", "Rejuvenator", "Relentless", "Resentment", "Resilience", "Restless", "Retaliate", "Revenant", "Revival", "Robust", "Routine", "Royal Decree", "Rubber Tissue", "Rugged", "Rule of Cool", "Rush", "Sand Screen", "Sand Shield", "Sand Surge", "Sand Swap", "Savage", "Scarf Down", "Scavenge", "Scorch", "Sea Goddess Disciple", "Second Mind", "Secret Darkness", "Seed Defense", "Serenade", "Sharp Fangs", "Sharp Reflexes", "Sickly Sweet", "Silly", "Skyborn", "Slash Expert", "Snailspeed", "Soul Fortification", "Soul Link", "Speedy Recovery", "Speed of Swag", "Spell Shield", "Spellcaster", "Spiteful", "Splintered Shards", "Split", "Spooky", "Spool", "Stabby Stabby", "Static Charge", "Steam Guard", "Sticky", "Stinky", "Stitching", "Stonefaced", "Storm Surge", "Stormwater", "Strong Armor", "Sugar Coating", "Superluminal", "Symbiosis", "Tainted", "Tangled", "Tar Body", "Tenacious", "The Flock", "The Fungus", "Thievery", "Thermal Energy", "Time Paralysis", "Time Stop", "Titanium Bucket", "Toxicity", "Trait", "Trick or Treat", "Trickster", "True Power", "Trump Card", "Tumble", "Turbulent", "Ugly", "Unbreakable", "Unraveling", "Vampire", "Vengeance", "Vicious", "Vigor", "Virulent Venom", "Viscosity", "Vitality", "Vocalist", "Ward", "Warden", "Water Absorb", "Whimsical", "Wish For Experience", "Wish For Power", "Wish For Wealth", "Your Meowjesty", "Impale", "Florist", "Phasmophobia", "Poison Sustenance", "Pollen Spread", "Monarch", "Sovereign", "To Arms!", "Kingly Aura", "Unpredictable", "Last Laugh", "Impersonate", "Static Purge", "Thunder Gut", "Overcharge", "Hydro Coating", "Iron Pincer", "Frostillery", "Steeped Spirit", "Reheat", "Signal Jammer", "Overgrowth Protocol", "Paragon Skin", "Flourish", "Last Lament", "Blightfrost", "Jelly Sync", "Mischievious", "Hero Spark", "Foul Welcome", "Pop Reflexes", "Spicehound", "Meat Shield", "Glucose Boost", "Impact Recoil", "Glitter Trail", "Curtain Call", "Impervious", "Rollercoaster", "Steel Frame", "Looper", "Kernal Scatter", "Grand Entrance", "Proliferate", "Assassin", "Binary Guard", "Firmware Update", "Last Stand", "Justicar", "Volcanic Core", "Verdant Predation", "Cursed Growth", "Short Circuit", "Home Ground", "Nullcoat", "True Flame", "Lunarc", "Animosity", "Heartbreak", "Altertype", "Metalant", "Venandi Feast", "Flowerhaven", "Ruinous Garden", "Resolve", "Starvision", "Cauldron Stew", "Trick Tail", "Mixed Bag", "Stimulant", "Holiday Spirit", "Sky Deity","Mistle Kiss","Evergreen Halo","Stormfrost","Cold Circuit","Sugarsick","Hazardous","Sweet Treat","Winter's Blessing", "Incitement", "Luminance", "Static Startle"];

        const defensiveTraits = Object.keys(traitEffects);

        const moveGroups = [
            { name: "Basic", moves: basicMoves, type: "Basic" },
            { name: "Mythic", moves: mythicMoves, type: "Mythic" },
            { name: "Fire", moves: fireMoves, type: "Fire" },
            { name: "Water", moves: waterMoves, type: "Water" },
            { name: "Plant", moves: plantMoves, type: "Plant" },
            { name: "Spark", moves: electricMoves, type: "Spark" },
            { name: "Beast", moves: beastMoves, type: "Beast" },
            { name: "Air", moves: airMoves, type: "Air" },
            { name: "Insect", moves: bugMoves, type: "Insect" },
            { name: "Earth", moves: earthMoves, type: "Earth" },
            { name: "Mind", moves: mindMoves, type: "Mind" },
            { name: "Melee", moves: meleeMoves, type: "Melee" },
            { name: "Food", moves: foodMoves, type: "Food" },
            { name: "Light", moves: lightMoves, type: "Light" },
            { name: "Crystal", moves: crystalMoves, type: "Crystal" },
            { name: "Metal", moves: metalMoves, type: "Metal" },
            { name: "Spirit", moves: spiritMoves, type: "Spirit" },
            { name: "Ice", moves: iceMoves, type: "Ice" },
            { name: "Dark", moves: darkMoves, type: "Dark" },
            { name: "Poison", moves: poisonMoves, type: "Poison" }
        ];

        function populateMoveTypeMap() {
            basicMoves.forEach(move => moveTypeMap[move] = 'basic');
            mythicMoves.forEach(move => moveTypeMap[move] = 'mythic');
            fireMoves.forEach(move => moveTypeMap[move] = 'fire');
            waterMoves.forEach(move => moveTypeMap[move] = 'water');
            plantMoves.forEach(move => moveTypeMap[move] = 'plant');
            electricMoves.forEach(move => moveTypeMap[move] = 'spark');
            beastMoves.forEach(move => moveTypeMap[move] = 'beast');
            airMoves.forEach(move => moveTypeMap[move] = 'air');
            bugMoves.forEach(move => moveTypeMap[move] = 'insect');
            earthMoves.forEach(move => moveTypeMap[move] = 'earth');
            mindMoves.forEach(move => moveTypeMap[move] = 'mind');
            meleeMoves.forEach(move => moveTypeMap[move] = 'melee');
            foodMoves.forEach(move => moveTypeMap[move] = 'food');
            lightMoves.forEach(move => moveTypeMap[move] = 'light');
            crystalMoves.forEach(move => moveTypeMap[move] = 'crystal');
            metalMoves.forEach(move => moveTypeMap[move] = 'metal');
            spiritMoves.forEach(move => moveTypeMap[move] = 'spirit');
            iceMoves.forEach(move => moveTypeMap[move] = 'ice');
            darkMoves.forEach(move => moveTypeMap[move] = 'dark');
            poisonMoves.forEach(move => moveTypeMap[move] = 'poison');
        }

        const MAX_TEAMS = 5;
        let teams = [];
        let currentTeamIndex = -1;
        let defensiveDoodleCount = 1;
        let matchupInitialized = false;

        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.nav-button').forEach(button => {
                button.addEventListener('click', function() {
                    const targetPage = this.getAttribute('data-page');
                    
                    document.querySelectorAll('.nav-button').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    document.querySelectorAll('.page').forEach(page => {
                        page.classList.remove('active');
                    });
                    document.getElementById(targetPage).classList.add('active');
                    
                    if (targetPage === 'matchup') {
                        setTimeout(() => {
                            if (!matchupInitialized) {
                                initializeMatchupCalculator();
                                matchupInitialized = true;
                            }
                        }, 100);
                    }
                });
            });

            populateMoveTypeMap();
            initialize();
        });

        function initialize() {
            initializeTeambuilder();
            initializeDefensiveCalculator();
            initializeOffensiveCalculator();
        }

        function initializeTeambuilder() {
            populateDoodleDropdown();
            loadFromStorage();
            setupTeambuilderEventListeners();
            
            if (teams.length === 0) {
                addTeam();
            } else {
                updateTeamSelect();
                if (currentTeamIndex >= 0 && currentTeamIndex < teams.length) {
                    loadTeam(currentTeamIndex);
                } else {
                    currentTeamIndex = 0;
                    loadTeam(currentTeamIndex);
                }
            }
        }

        function populateDoodleDropdown() {
            const doodleOptions = document.getElementById('doodle-options');
            doodleOptions.innerHTML = '';
            
            if (doodles && doodles.length > 0) {
                doodles.forEach(doodle => {
                    const option = document.createElement('div');
                    option.className = 'dropdown-option';
                    option.textContent = doodle.name;
                    option.dataset.value = doodle.name;
                    option.dataset.image = doodle.image;
                    option.dataset.type = doodle.type;
                    
                    option.addEventListener('click', function() {
                        document.getElementById('doodle-header').querySelector('span').textContent = doodle.name;
                        document.getElementById('doodle-list').classList.remove('active');
                        
                        document.querySelectorAll('#doodle-options .dropdown-option').forEach(opt => {
                            opt.classList.remove('selected');
                        });
                        this.classList.add('selected');
                    });
                    
                    doodleOptions.appendChild(option);
                });
            }
        }

        function setupTeambuilderEventListeners() {
            document.getElementById('add-team').addEventListener('click', addTeam);
            document.getElementById('delete-team').addEventListener('click', deleteTeam);
            document.getElementById('team-select').addEventListener('change', changeTeam);
            document.getElementById('team-name').addEventListener('change', updateTeamName);
            document.getElementById('add-doodle').addEventListener('click', addDoodleToTeam);
            document.getElementById('copy-code').addEventListener('click', copyTeamCode);
            document.getElementById('import-code').addEventListener('click', importTeamCode);
            document.getElementById('import-text').addEventListener('click', importFromText);
            
            const doodleHeader = document.getElementById('doodle-header');
            const doodleList = document.getElementById('doodle-list');
            const doodleSearch = document.getElementById('doodle-search');
            
            doodleHeader.addEventListener('click', function() {
                doodleList.classList.toggle('active');
                if (doodleList.classList.contains('active')) {
                    doodleSearch.focus();
                }
            });
            
            doodleSearch.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase().trim();
                const options = document.querySelectorAll('#doodle-options .dropdown-option');
                
                const validTypes = Object.keys(typeColors).map(type => type.toLowerCase());
                const isTypeSearch = !searchTerm.includes(' ') && validTypes.includes(searchTerm);
                
                options.forEach(option => {
                    const text = option.textContent.toLowerCase();
                    const doodleType = option.dataset.type.toLowerCase();
                    
                    if (isTypeSearch) {
                        option.style.display = doodleType.includes(searchTerm) ? 'block' : 'none';
                    } else {
                        option.style.display = text.includes(searchTerm) ? 'block' : 'none';
                    }
                });
            });
            
            document.addEventListener('click', function(event) {
                if (!event.target.closest('.custom-dropdown')) {
                    doodleList.classList.remove('active');
                }
            });
        }

        function addTeam() {
            if (teams.length >= MAX_TEAMS) {
                alert(`Maximum of ${MAX_TEAMS} teams reached!`);
                return;
            }

            let teamNumber = 1;
            const teamNames = teams.map(team => team.name);
            while (teamNames.includes(`Team ${teamNumber}`)) {
                teamNumber++;
            }

            const newTeam = {
                name: `Team ${teamNumber}`,
                notes: "",
                doodles: []
            };

            teams.push(newTeam);
            currentTeamIndex = teams.length - 1;
            updateTeamSelect();
            loadTeam(currentTeamIndex);
            saveToStorage();
        }

        function deleteTeam() {
            if (teams.length <= 1) {
                alert("You must have at least one team!");
                return;
            }

            if (currentTeamIndex === -1) return;

            saveCurrentTeamState();
            
            teams.splice(currentTeamIndex, 1);
            
            if (currentTeamIndex >= teams.length) {
                currentTeamIndex = teams.length - 1;
            }

            updateTeamSelect();
            loadTeam(currentTeamIndex);
            saveToStorage();
        }

        function changeTeam() {
            const select = document.getElementById('team-select');
            const newIndex = parseInt(select.value);
            
            if (currentTeamIndex !== -1 && currentTeamIndex !== newIndex) {
                saveCurrentTeamState();
            }
            
            currentTeamIndex = newIndex;
            if (currentTeamIndex >= 0 && currentTeamIndex < teams.length) {
                loadTeam(currentTeamIndex);
            }
        }

        function saveCurrentTeamState() {
            if (currentTeamIndex === -1 || currentTeamIndex >= teams.length) return;
            
            teams[currentTeamIndex].name = document.getElementById('team-name').value || `Team ${currentTeamIndex + 1}`;
            
            const doodleCards = document.querySelectorAll('.doodle-card');
            doodleCards.forEach((card, index) => {
                if (index < teams[currentTeamIndex].doodles.length) {
                    const doodle = teams[currentTeamIndex].doodles[index];
                    
                    // Save moves from custom dropdowns
                    for (let i = 0; i < 4; i++) {
                        const moveHeader = card.querySelector(`.move-dropdown[data-move-index="${i}"] .dropdown-header span:first-child`);
                        if (moveHeader) {
                            const moveText = moveHeader.textContent;
                            if (moveText !== 'Select Move') {
                                // Extract move name from header (remove type icon)
                                const moveName = moveText.replace(/[â–²â–¶â–º]/g, '').trim();
                                doodle.moves[i] = moveName;
                            } else {
                                doodle.moves[i] = "";
                            }
                        }
                    }
                    
                    // Save trait
                    const traitHeader = card.querySelector('.trait-dropdown .dropdown-header span:first-child');
                    if (traitHeader) {
                        doodle.trait = traitHeader.textContent !== 'Select Trait' ? traitHeader.textContent : "";
                    }
                    
                    // Save held item
                    const heldItemHeader = card.querySelector('.held-item-dropdown .dropdown-header span:first-child');
                    if (heldItemHeader) {
                        doodle.heldItem = heldItemHeader.textContent !== 'Held Item' ? heldItemHeader.textContent : "None";
                    }
                    
                    // Save stats
                    const statHeaders = card.querySelectorAll('.stat-dropdown .dropdown-header span:first-child');
                    statHeaders.forEach((header, statIndex) => {
                        if (statIndex < 2) {
                            doodle.stats[statIndex] = header.textContent !== 'Select Stat' ? header.textContent : "";
                        }
                    });
                    
                    // Save equipment
                    const helmetHeader = card.querySelector('.helmet-dropdown .dropdown-header span:first-child');
                    const amuletHeader = card.querySelector('.amulet-dropdown .dropdown-header span:first-child');
                    const artifactHeader = card.querySelector('.artifact-dropdown .dropdown-header span:first-child');
                    
                    if (helmetHeader) {
                        doodle.equipment.helmet = helmetHeader.textContent !== 'Helmet' ? helmetHeader.textContent : "None";
                    }
                    if (amuletHeader) {
                        doodle.equipment.amulet = amuletHeader.textContent !== 'Amulet' ? amuletHeader.textContent : "None";
                    }
                    if (artifactHeader) {
                        doodle.equipment.artifact = artifactHeader.textContent !== 'Artifact' ? artifactHeader.textContent : "None";
                    }
                }
            });
            
            saveToStorage();
        }

        function updateTeamName() {
            if (currentTeamIndex === -1 || currentTeamIndex >= teams.length) return;
            const newName = document.getElementById('team-name').value || `Team ${currentTeamIndex + 1}`;
            teams[currentTeamIndex].name = newName;
            updateTeamSelect();
            saveToStorage();
        }

        function updateTeamSelect() {
            const teamSelect = document.getElementById('team-select');
            teamSelect.innerHTML = '';
            
            teams.forEach((team, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = team.name;
                if (index === currentTeamIndex) {
                    option.selected = true;
                }
                teamSelect.appendChild(option);
            });
        }

        function addDoodleToTeam() {
            if (currentTeamIndex === -1 || currentTeamIndex >= teams.length) {
                alert("Please select or create a team first!");
                return;
            }
            
            if (teams[currentTeamIndex].doodles.length >= 6) {
                alert('Team is full! Maximum 6 doodles allowed.');
                return;
            }
            
            const selectedDoodleName = document.getElementById('doodle-header').querySelector('span').textContent;
            if (selectedDoodleName === 'Select a Doodle') {
                alert('Please select a doodle first!');
                return;
            }
            
            const doodle = doodles.find(d => d.name === selectedDoodleName);
            if (doodle) {
                const baseDoodle = {
                    name: doodle.name,
                    image: doodle.image,
                    type: doodle.type,
                    moves: ["", "", "", ""],
                    trait: "",
                    heldItem: "",
                    stats: ["", ""],
                    equipment: {
                        helmet: "None",
                        amulet: "None",
                        artifact: "None"
                    }
                };
                
                const autoAttune = document.getElementById('auto-attune').checked;
                const attunement = doodleAttunements[doodle.name];
                
                let finalDoodle = {...baseDoodle};
                
                if (autoAttune && attunement) {
                    if (attunement.signatureTrait) {
                        finalDoodle.trait = attunement.signatureTrait;
                    }
                    
                    if (attunement.runestone) {
                        finalDoodle.heldItem = attunement.runestone;
                    } else if (attunement.signatureItem) {
                        finalDoodle.heldItem = attunement.signatureItem;
                    }
                }
                
                teams[currentTeamIndex].doodles.push(finalDoodle);
                renderTeam();
                saveToStorage();
                
                document.getElementById('doodle-header').querySelector('span').textContent = 'Select a Doodle';
                document.querySelectorAll('#doodle-options .dropdown-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
            }
        }

        function removeDoodle(index) {
            if (currentTeamIndex === -1 || currentTeamIndex >= teams.length) return;
            teams[currentTeamIndex].doodles.splice(index, 1);
            renderTeam();
            saveToStorage();
        }

        function getMoveType(moveName, trait = null, doodleName = null) {
            if (!moveName) return null;
            
            if (specialMoveTypes[moveName] && doodleName) {
                const specialType = specialMoveTypes[moveName][doodleName];
                if (specialType) return specialType;
            }
            
            let moveType = moveTypeMap[moveName];
            
            if (trait && traitMoveTypeChanges[trait] && moveType) {
                const typeChange = traitMoveTypeChanges[trait];
                if (moveType === typeChange.from) {
                    moveType = typeChange.to;
                }
            }
            
            return moveType;
        }

        window.updateDoodleData = function(doodleIndex, field, value) {
            if (currentTeamIndex === -1 || currentTeamIndex >= teams.length) return;
            if (field.includes('.')) {
                const parts = field.split('.');
                teams[currentTeamIndex].doodles[doodleIndex][parts[0]][parts[1]] = value;
            } else {
                teams[currentTeamIndex].doodles[doodleIndex][field] = value;
            }
            saveToStorage();
        };

        function renderTeam() {
            if (currentTeamIndex === -1 || currentTeamIndex >= teams.length) return;
            
            const teamDisplay = document.getElementById('team-display');
            teamDisplay.innerHTML = '';
            
            teams[currentTeamIndex].doodles.forEach((doodle, index) => {
                const card = createDoodleCard(doodle, index);
                teamDisplay.appendChild(card);
            });
        }

        function createDoodleCard(doodle, index) {
            const card = document.createElement('div');
            card.className = 'doodle-card';
            card.id = `doodle-card-${index}`;
            card.draggable = true;
            card.dataset.index = index;
            
            card.addEventListener('dragstart', handleDragStart);
            card.addEventListener('dragover', handleDragOver);
            card.addEventListener('dragenter', handleDragEnter);
            card.addEventListener('dragleave', handleDragLeave);
            card.addEventListener('drop', handleDrop);
            card.addEventListener('dragend', handleDragEnd);
            
            const cardHeader = document.createElement('div');
            cardHeader.className = 'card-header';
            
            const slotInfo = document.createElement('div');
            slotInfo.textContent = `Slot ${index + 1}`;
            slotInfo.style.fontWeight = 'bold';
            slotInfo.style.color = 'var(--header-color)';
            
            const cardButtons = document.createElement('div');
            cardButtons.className = 'card-buttons';
            
            const clearBtn = document.createElement('button');
            clearBtn.className = 'card-btn';
            clearBtn.textContent = 'Clear';
            clearBtn.onclick = () => clearDoodleCard(index);
            
            const exportBtn = document.createElement('button');
            exportBtn.className = 'card-btn';
            exportBtn.textContent = 'Export';
            exportBtn.onclick = () => exportDoodleToText(index);
            
            const attunement = doodleAttunements[doodle.name];
            if (attunement) {
                const attuneBtn = document.createElement('button');
                attuneBtn.className = 'card-btn attune-btn';
                attuneBtn.textContent = 'Attune';
                attuneBtn.onclick = () => applyAttunement(index);
                cardButtons.appendChild(attuneBtn);
            }
            
            cardButtons.appendChild(clearBtn);
            cardButtons.appendChild(exportBtn);
            cardHeader.appendChild(slotInfo);
            cardHeader.appendChild(cardButtons);
            
            const doodleInfo = document.createElement('div');
            doodleInfo.className = 'doodle-sprite-container';
            
            const sprite = document.createElement('div');
            sprite.className = 'doodle-sprite';
            sprite.style.backgroundImage = `url(${doodle.image})`;
            
            const info = document.createElement('div');
            info.className = 'doodle-info';
            
            const name = document.createElement('div');
            name.className = 'doodle-name';
            name.textContent = doodle.name;
            
            if (attunement) {
                const attunedIndicator = document.createElement('span');
                attunedIndicator.className = 'attunement-indicator';
                attunedIndicator.title = 'Has signature attunements';
                name.appendChild(attunedIndicator);
                
                card.classList.add('attuned');
            }
            
            const typeBadges = document.createElement('div');
            typeBadges.className = 'type-badges';
            const types = doodle.type.split('/');
            types.forEach(type => {
                const badge = document.createElement('span');
                badge.className = 'type-badge';
                badge.textContent = type;
                badge.style.backgroundColor = typeColors[type] || typeColors['Basic'];
                
                const icon = document.createElement('span');
                icon.className = 'type-icon';
                icon.style.backgroundImage = `url(${typeIcons[type] || typeIcons['Basic']})`;
                badge.prepend(icon);
                
                typeBadges.appendChild(badge);
            });
            
            info.appendChild(name);
            info.appendChild(typeBadges);
            
            doodleInfo.appendChild(sprite);
            doodleInfo.appendChild(info);
            
            const expandBtn = document.createElement('button');
            expandBtn.className = 'card-btn expand-btn';
            expandBtn.textContent = 'Expand';
            expandBtn.onclick = () => toggleExpandSection(index);
            
            const expandSection = document.createElement('div');
            expandSection.className = 'expand-section';
            expandSection.id = `expand-section-${index}`;
            
            card.appendChild(cardHeader);
            card.appendChild(doodleInfo);
            card.appendChild(expandBtn);
            card.appendChild(expandSection);
            
            setTimeout(() => {
                expandSection.innerHTML = createExpandSectionContent(doodle, index);
                setupCustomDropdowns(index);
            }, 0);
            
            return card;
        }

        function handleDragStart(e) {
            this.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/plain', this.dataset.index);
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
        }

        function handleDragEnter(e) {
            e.preventDefault();
            this.classList.add('drag-over');
        }

        function handleDragLeave() {
            this.classList.remove('drag-over');
        }

        function handleDrop(e) {
            e.preventDefault();
            this.classList.remove('drag-over');
            
            const fromIndex = parseInt(e.dataTransfer.getData('text/plain'));
            const toIndex = parseInt(this.dataset.index);
            
            if (fromIndex !== toIndex) {
                const team = teams[currentTeamIndex];
                [team.doodles[fromIndex], team.doodles[toIndex]] = [team.doodles[toIndex], team.doodles[fromIndex]];
                
                renderTeam();
                saveToStorage();
            }
        }

        function handleDragEnd() {
            this.classList.remove('dragging');
            document.querySelectorAll('.doodle-card').forEach(card => {
                card.classList.remove('drag-over');
            });
        }

        function createExpandSectionContent(doodle, index) {
            return `
                <div class="section-title">Moves</div>
                <div class="moves-container">
                    ${Array(4).fill().map((_, i) => `
                        <div class="custom-dropdown move-dropdown" data-doodle="${index}" data-move-index="${i}">
                            <div class="dropdown-header move-header">
                                <span>${doodle.moves[i] || "Select Move"}</span>
                                <span>â–¼</span>
                            </div>
                            <div class="dropdown-list move-list">
                                <input type="text" class="dropdown-search move-search" placeholder="Search moves...">
                                <div class="dropdown-options move-options"></div>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="section-title">Trait</div>
                <div class="custom-dropdown trait-dropdown" data-doodle="${index}">
                    <div class="dropdown-header trait-header">
                        <span>${doodle.trait || "Select Trait"}</span>
                        <span>â–¼</span>
                    </div>
                    <div class="dropdown-list trait-list">
                        <input type="text" class="dropdown-search trait-search" placeholder="Search traits...">
                        <div class="dropdown-options trait-options"></div>
                    </div>
                </div>
                
                <div class="section-title">Held Item</div>
                <div class="custom-dropdown held-item-dropdown" data-doodle="${index}">
                    <div class="dropdown-header held-item-header">
                        <span>${doodle.heldItem || "Held Item"}</span>
                        <span>â–¼</span>
                    </div>
                    <div class="dropdown-list held-item-list">
                        <input type="text" class="dropdown-search held-item-search" placeholder="Search held items...">
                        <div class="dropdown-options held-item-options"></div>
                    </div>
                </div>
                
                <div class="section-title">Stats</div>
                <div class="stats-container">
                    ${Array(2).fill().map((_, i) => `
                        <div class="custom-dropdown stat-dropdown" data-doodle="${index}" data-stat-index="${i}">
                            <div class="dropdown-header stat-header">
                                <span>${doodle.stats[i] || "Select Stat"}</span>
                                <span>â–¼</span>
                            </div>
                            <div class="dropdown-list stat-list">
                                <input type="text" class="dropdown-search stat-search" placeholder="Search stats...">
                                <div class="dropdown-options stat-options"></div>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="section-title">Equipment</div>
                <div class="equipment-container">
                    <div class="custom-dropdown helmet-dropdown" data-doodle="${index}">
                        <div class="dropdown-header helmet-header">
                            <span>${doodle.equipment.helmet || "Helmet"}</span>
                            <span>â–¼</span>
                        </div>
                        <div class="dropdown-list helmet-list">
                            <input type="text" class="dropdown-search helmet-search" placeholder="Search helmets...">
                            <div class="dropdown-options helmet-options"></div>
                        </div>
                    </div>
                    <div class="custom-dropdown amulet-dropdown" data-doodle="${index}">
                        <div class="dropdown-header amulet-header">
                            <span>${doodle.equipment.amulet || "Amulet"}</span>
                            <span>â–¼</span>
                        </div>
                        <div class="dropdown-list amulet-list">
                            <input type="text" class="dropdown-search amulet-search" placeholder="Search amulets...">
                            <div class="dropdown-options amulet-options"></div>
                        </div>
                    </div>
                    <div class="custom-dropdown artifact-dropdown" data-doodle="${index}">
                        <div class="dropdown-header artifact-header">
                            <span>${doodle.equipment.artifact || "Artifact"}</span>
                            <span>â–¼</span>
                        </div>
                        <div class="dropdown-list artifact-list">
                            <input type="text" class="dropdown-search artifact-search" placeholder="Search artifacts...">
                            <div class="dropdown-options artifact-options"></div>
                        </div>
                    </div>
                </div>
            `;
        }

        function setupCustomDropdowns(index) {
            setupMoveDropdowns(index);
            setupTraitDropdown(index);
            setupHeldItemDropdown(index);
            setupStatDropdowns(index);
            setupEquipmentDropdowns(index);
        }

        function setupMoveDropdowns(doodleIndex) {
            for (let i = 0; i < 4; i++) {
                const dropdown = document.querySelector(`.move-dropdown[data-doodle="${doodleIndex}"][data-move-index="${i}"]`);
                const header = dropdown.querySelector('.move-header');
                const list = dropdown.querySelector('.move-list');
                const search = dropdown.querySelector('.move-search');
                const options = dropdown.querySelector('.move-options');
                
                options.innerHTML = '';
                
                moveGroups.forEach(group => {
                    const groupDiv = document.createElement('div');
                    groupDiv.className = 'move-option-group';
                    
                    const groupHeader = document.createElement('div');
                    groupHeader.className = 'move-group-header';
                    groupHeader.textContent = group.name;
                    groupHeader.style.color = typeColors[group.type];
                    groupDiv.appendChild(groupHeader);
                    
                    group.moves.forEach(move => {
                        const option = document.createElement('div');
                        option.className = 'dropdown-option move-option';
                        option.dataset.value = move;
                        
                        const icon = document.createElement('span');
                        icon.className = 'type-icon';
                        icon.style.backgroundImage = `url(${typeIcons[group.type] || typeIcons['Basic']})`;
                        
                        const text = document.createTextNode(move);
                        
                        option.appendChild(icon);
                        option.appendChild(text);
                        
                        option.addEventListener('click', function() {
                            const headerSpan = header.querySelector('span:first-child');
                            headerSpan.innerHTML = '';
                            
                            const selectedIcon = icon.cloneNode(true);
                            headerSpan.appendChild(selectedIcon);
                            headerSpan.appendChild(document.createTextNode(move));
                            
                            list.classList.remove('active');
                            updateDoodleData(doodleIndex, `moves.${i}`, move);
                            
                            options.querySelectorAll('.move-option').forEach(opt => {
                                opt.classList.remove('selected');
                            });
                            this.classList.add('selected');
                        });
                        
                        groupDiv.appendChild(option);
                    });
                    
                    options.appendChild(groupDiv);
                });
                
                // Set initial selected move
                const doodle = teams[currentTeamIndex].doodles[doodleIndex];
                if (doodle.moves[i]) {
                    const moveOption = options.querySelector(`.move-option[data-value="${doodle.moves[i]}"]`);
                    if (moveOption) {
                        moveOption.click();
                    }
                }
                
                header.addEventListener('click', function() {
                    list.classList.toggle('active');
                    if (list.classList.contains('active')) {
                        search.focus();
                    }
                });
                
                search.addEventListener('input', function() {
                    const searchTerm = this.value.toLowerCase();
                    const groups = options.querySelectorAll('.move-option-group');
                    
                    groups.forEach(group => {
                        const optionsInGroup = group.querySelectorAll('.move-option');
                        let hasVisible = false;
                        optionsInGroup.forEach(option => {
                            const text = option.textContent.toLowerCase();
                            if (text.includes(searchTerm)) {
                                option.style.display = 'flex';
                                hasVisible = true;
                            } else {
                                option.style.display = 'none';
                            }
                        });
                        group.style.display = hasVisible ? 'block' : 'none';
                    });
                });
            }
        }

        function setupTraitDropdown(doodleIndex) {
            const dropdown = document.querySelector(`.trait-dropdown[data-doodle="${doodleIndex}"]`);
            const header = dropdown.querySelector('.trait-header');
            const list = dropdown.querySelector('.trait-list');
            const search = dropdown.querySelector('.trait-search');
            const options = dropdown.querySelector('.trait-options');
            
            options.innerHTML = '';
            
            traits.forEach(trait => {
                const option = document.createElement('div');
                option.className = 'dropdown-option';
                option.textContent = trait;
                option.dataset.value = trait;
                
                option.addEventListener('click', function() {
                    header.querySelector('span:first-child').textContent = trait;
                    list.classList.remove('active');
                    updateDoodleData(doodleIndex, 'trait', trait);
                    
                    options.querySelectorAll('.dropdown-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                });
                
                options.appendChild(option);
            });
            
            // Set initial selected trait
            const doodle = teams[currentTeamIndex].doodles[doodleIndex];
            if (doodle.trait) {
                const traitOption = options.querySelector(`.dropdown-option[data-value="${doodle.trait}"]`);
                if (traitOption) {
                    traitOption.click();
                }
            }
            
            header.addEventListener('click', function() {
                list.classList.toggle('active');
                if (list.classList.contains('active')) {
                    search.focus();
                }
            });
            
            search.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const optionsList = options.querySelectorAll('.dropdown-option');
                
                optionsList.forEach(option => {
                    const text = option.textContent.toLowerCase();
                    option.style.display = text.includes(searchTerm) ? 'block' : 'none';
                });
            });
        }

        function setupHeldItemDropdown(doodleIndex) {
            const dropdown = document.querySelector(`.held-item-dropdown[data-doodle="${doodleIndex}"]`);
            const header = dropdown.querySelector('.held-item-header');
            const list = dropdown.querySelector('.held-item-list');
            const search = dropdown.querySelector('.held-item-search');
            const options = dropdown.querySelector('.held-item-options');
            
            options.innerHTML = '';
            
            heldItems.forEach(item => {
                const option = document.createElement('div');
                option.className = 'dropdown-option';
                option.textContent = item;
                option.dataset.value = item;
                
                option.addEventListener('click', function() {
                    header.querySelector('span:first-child').textContent = item;
                    list.classList.remove('active');
                    updateDoodleData(doodleIndex, 'heldItem', item);
                    
                    options.querySelectorAll('.dropdown-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                });
                
                options.appendChild(option);
            });
            
            // Set initial selected held item
            const doodle = teams[currentTeamIndex].doodles[doodleIndex];
            if (doodle.heldItem) {
                const itemOption = options.querySelector(`.dropdown-option[data-value="${doodle.heldItem}"]`);
                if (itemOption) {
                    itemOption.click();
                }
            }
            
            header.addEventListener('click', function() {
                list.classList.toggle('active');
                if (list.classList.contains('active')) {
                    search.focus();
                }
            });
            
            search.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const optionsList = options.querySelectorAll('.dropdown-option');
                
                optionsList.forEach(option => {
                    const text = option.textContent.toLowerCase();
                    option.style.display = text.includes(searchTerm) ? 'block' : 'none';
                });
            });
        }

        function setupStatDropdowns(doodleIndex) {
            for (let i = 0; i < 2; i++) {
                const dropdown = document.querySelector(`.stat-dropdown[data-doodle="${doodleIndex}"][data-stat-index="${i}"]`);
                const header = dropdown.querySelector('.stat-header');
                const list = dropdown.querySelector('.stat-list');
                const search = dropdown.querySelector('.stat-search');
                const options = dropdown.querySelector('.stat-options');
                
                options.innerHTML = '';
                
                stats.forEach(stat => {
                    const option = document.createElement('div');
                    option.className = 'dropdown-option';
                    option.textContent = stat;
                    option.dataset.value = stat;
                    
                    option.addEventListener('click', function() {
                        header.querySelector('span:first-child').textContent = stat;
                        list.classList.remove('active');
                        updateDoodleData(doodleIndex, `stats.${i}`, stat);
                        
                        options.querySelectorAll('.dropdown-option').forEach(opt => {
                            opt.classList.remove('selected');
                        });
                        this.classList.add('selected');
                    });
                    
                    options.appendChild(option);
                });
                
                // Set initial selected stat
                const doodle = teams[currentTeamIndex].doodles[doodleIndex];
                if (doodle.stats[i]) {
                    const statOption = options.querySelector(`.dropdown-option[data-value="${doodle.stats[i]}"]`);
                    if (statOption) {
                        statOption.click();
                    }
                }
                
                header.addEventListener('click', function() {
                    list.classList.toggle('active');
                    if (list.classList.contains('active')) {
                        search.focus();
                    }
                });
                
                search.addEventListener('input', function() {
                    const searchTerm = this.value.toLowerCase();
                    const optionsList = options.querySelectorAll('.dropdown-option');
                    
                    optionsList.forEach(option => {
                        const text = option.textContent.toLowerCase();
                        option.style.display = text.includes(searchTerm) ? 'block' : 'none';
                    });
                });
            }
        }

        function setupEquipmentDropdowns(doodleIndex) {
            // Helmet dropdown
            const helmetDropdown = document.querySelector(`.helmet-dropdown[data-doodle="${doodleIndex}"]`);
            const helmetHeader = helmetDropdown.querySelector('.helmet-header');
            const helmetList = helmetDropdown.querySelector('.helmet-list');
            const helmetSearch = helmetDropdown.querySelector('.helmet-search');
            const helmetOptions = helmetDropdown.querySelector('.helmet-options');
            
            helmetOptions.innerHTML = '';
            
            helmets.forEach(helmet => {
                const option = document.createElement('div');
                option.className = 'dropdown-option';
                option.textContent = helmet;
                option.dataset.value = helmet;
                
                option.addEventListener('click', function() {
                    helmetHeader.querySelector('span:first-child').textContent = helmet;
                    helmetList.classList.remove('active');
                    updateDoodleData(doodleIndex, 'equipment.helmet', helmet);
                    
                    helmetOptions.querySelectorAll('.dropdown-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                });
                
                helmetOptions.appendChild(option);
            });
            
            // Amulet dropdown
            const amuletDropdown = document.querySelector(`.amulet-dropdown[data-doodle="${doodleIndex}"]`);
            const amuletHeader = amuletDropdown.querySelector('.amulet-header');
            const amuletList = amuletDropdown.querySelector('.amulet-list');
            const amuletSearch = amuletDropdown.querySelector('.amulet-search');
            const amuletOptions = amuletDropdown.querySelector('.amulet-options');
            
            amuletOptions.innerHTML = '';
            
            amulets.forEach(amulet => {
                const option = document.createElement('div');
                option.className = 'dropdown-option';
                option.textContent = amulet;
                option.dataset.value = amulet;
                
                option.addEventListener('click', function() {
                    amuletHeader.querySelector('span:first-child').textContent = amulet;
                    amuletList.classList.remove('active');
                    updateDoodleData(doodleIndex, 'equipment.amulet', amulet);
                    
                    amuletOptions.querySelectorAll('.dropdown-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                });
                
                amuletOptions.appendChild(option);
            });
            
            // Artifact dropdown
            const artifactDropdown = document.querySelector(`.artifact-dropdown[data-doodle="${doodleIndex}"]`);
            const artifactHeader = artifactDropdown.querySelector('.artifact-header');
            const artifactList = artifactDropdown.querySelector('.artifact-list');
            const artifactSearch = artifactDropdown.querySelector('.artifact-search');
            const artifactOptions = artifactDropdown.querySelector('.artifact-options');
            
            artifactOptions.innerHTML = '';
            
            artifacts.forEach(artifact => {
                const option = document.createElement('div');
                option.className = 'dropdown-option';
                option.textContent = artifact;
                option.dataset.value = artifact;
                
                option.addEventListener('click', function() {
                    artifactHeader.querySelector('span:first-child').textContent = artifact;
                    artifactList.classList.remove('active');
                    updateDoodleData(doodleIndex, 'equipment.artifact', artifact);
                    
                    artifactOptions.querySelectorAll('.dropdown-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                });
                
                artifactOptions.appendChild(option);
            });
            
            // Set initial equipment values
            const doodle = teams[currentTeamIndex].doodles[doodleIndex];
            
            // Helmet
            if (doodle.equipment.helmet) {
                const helmetOption = helmetOptions.querySelector(`.dropdown-option[data-value="${doodle.equipment.helmet}"]`);
                if (helmetOption) {
                    helmetOption.click();
                }
            }
            
            // Amulet
            if (doodle.equipment.amulet) {
                const amuletOption = amuletOptions.querySelector(`.dropdown-option[data-value="${doodle.equipment.amulet}"]`);
                if (amuletOption) {
                    amuletOption.click();
                }
            }
            
            // Artifact
            if (doodle.equipment.artifact) {
                const artifactOption = artifactOptions.querySelector(`.dropdown-option[data-value="${doodle.equipment.artifact}"]`);
                if (artifactOption) {
                    artifactOption.click();
                }
            }
            
            // Add event listeners for headers and search
            [helmetHeader, amuletHeader, artifactHeader].forEach((header, idx) => {
                const list = [helmetList, amuletList, artifactList][idx];
                const search = [helmetSearch, amuletSearch, artifactSearch][idx];
                
                header.addEventListener('click', function() {
                    list.classList.toggle('active');
                    if (list.classList.contains('active')) {
                        search.focus();
                    }
                });
            });
            
            [helmetSearch, amuletSearch, artifactSearch].forEach((search, idx) => {
                const options = [helmetOptions, amuletOptions, artifactOptions][idx];
                
                search.addEventListener('input', function() {
                    const searchTerm = this.value.toLowerCase();
                    const optionsList = options.querySelectorAll('.dropdown-option');
                    
                    optionsList.forEach(option => {
                        const text = option.textContent.toLowerCase();
                        option.style.display = text.includes(searchTerm) ? 'block' : 'none';
                    });
                });
            });
        }

        function toggleExpandSection(index) {
            const expandSection = document.getElementById(`expand-section-${index}`);
            const expandBtn = document.querySelector(`#doodle-card-${index} .expand-btn`);
            
            if (expandSection.classList.contains('active')) {
                expandSection.classList.remove('active');
                expandBtn.textContent = 'Expand';
            } else {
                expandSection.classList.add('active');
                expandBtn.textContent = 'Hide';
            }
        }

        function clearDoodleCard(index) {
            if (currentTeamIndex === -1 || currentTeamIndex >= teams.length) return;
            teams[currentTeamIndex].doodles.splice(index, 1);
            renderTeam();
            saveToStorage();
        }

        function applyAttunement(index) {
            if (currentTeamIndex === -1 || currentTeamIndex >= teams.length) return;
            
            const doodle = teams[currentTeamIndex].doodles[index];
            const attunement = doodleAttunements[doodle.name];
            
            if (!attunement) {
                alert("No attunement data found for this doodle!");
                return;
            }
            
            if (attunement.signatureTrait) {
                doodle.trait = attunement.signatureTrait;
            }
            
            if (attunement.runestone) {
                doodle.heldItem = attunement.runestone;
            } else if (attunement.signatureItem) {
                doodle.heldItem = attunement.signatureItem;
            }
            
            renderTeam();
            saveToStorage();
            
            alert(`Attuned ${doodle.name} with signature items!`);
        }

        function exportDoodleToText(index) {
            if (currentTeamIndex === -1 || currentTeamIndex >= teams.length) return;
            
            const doodle = teams[currentTeamIndex].doodles[index];
            if (!doodle) return;
            
            let text = `${doodle.name} @ ${doodle.heldItem || "None"} - ${doodle.trait || "No Trait"} - ${doodle.equipment.helmet}/${doodle.equipment.amulet}/${doodle.equipment.artifact}`;
            
            const statsText = doodle.stats.filter(s => s).join(", ");
            if (statsText) {
                text += ` - ${statsText}`;
            }
            
            const moves = doodle.moves.filter(m => m).join("/");
            if (moves) {
                text += ` - ${moves}`;
            }
            
            navigator.clipboard.writeText(text)
                .then(() => alert("Doodle text copied to clipboard!"))
                .catch(() => {
                    const textarea = document.createElement("textarea");
                    textarea.value = text;
                    document.body.appendChild(textarea);
                    textarea.select();
                    document.execCommand("copy");
                    document.body.removeChild(textarea);
                    alert("Doodle text copied!");
                });
        }

        function copyTeamCode() {
            if (currentTeamIndex === -1 || currentTeamIndex >= teams.length) return;
            
            try {
                const team = teams[currentTeamIndex];
                let teamText = `Team: ${team.name}\n\n`;
                
                team.doodles.forEach((doodle, index) => {
                    teamText += `Slot ${index + 1}:\n`;
                    
                    teamText += `${doodle.name} @ ${doodle.heldItem || "None"} - ${doodle.trait || "No Trait"} - ${doodle.equipment.helmet}/${doodle.equipment.amulet}/${doodle.equipment.artifact}`;
                    
                    const statsText = doodle.stats.filter(s => s).join(", ");
                    if (statsText) {
                        teamText += ` - ${statsText}`;
                    }
                    
                    const moves = doodle.moves.filter(m => m).join("/");
                    if (moves) {
                        teamText += ` - ${moves}`;
                    }
                    
                    teamText += '\n\n';
                });
                
                navigator.clipboard.writeText(teamText)
                    .then(() => alert("Team code copied to clipboard!"))
                    .catch(() => {
                        const textarea = document.createElement("textarea");
                        textarea.value = teamText;
                        document.body.appendChild(textarea);
                        textarea.select();
                        document.execCommand("copy");
                        document.body.removeChild(textarea);
                        alert("Team code copied!");
                    });
            } catch (error) {
                console.error("Copy failed:", error);
                alert("Error generating team code. Check console for details.");
            }
        }

        function importTeamCode() {
            const teamCode = prompt("Paste team code:");
            if (!teamCode) return;

            try {
                if (currentTeamIndex !== -1 && currentTeamIndex < teams.length) {
                    saveCurrentTeamState();
                }
                
                const lines = teamCode.split('\n');
                const teamNameMatch = lines[0].match(/Team: (.+)/);
                const teamName = teamNameMatch ? teamNameMatch[1] : "Imported Team";
                
                const importedDoodles = [];
                let currentDoodle = null;
                
                for (let i = 1; i < lines.length; i++) {
                    const line = lines[i].trim();
                    
                    if (line.startsWith('Slot')) {
                        if (currentDoodle) {
                            importedDoodles.push(currentDoodle);
                        }
                        currentDoodle = {
                            name: "",
                            image: "",
                            type: "",
                            moves: ["", "", "", ""],
                            trait: "",
                            heldItem: "",
                            stats: ["", ""],
                            equipment: {
                                helmet: "None",
                                amulet: "None",
                                artifact: "None"
                            }
                        };
                    } else if (line.includes(' @ ')) {
                        if (currentDoodle) {
                            const parts = line.split(' - ');
                            
                            const doodleItemPart = parts[0];
                            const doodleItemParts = doodleItemPart.split(' @ ');
                            currentDoodle.name = doodleItemParts[0].trim();
                            currentDoodle.heldItem = doodleItemParts.length > 1 ? doodleItemParts[1].trim() : "None";
                            
                            if (parts.length > 1) {
                                currentDoodle.trait = parts[1].trim();
                            }
                            
                            if (parts.length > 2) {
                                const equipmentParts = parts[2].split('/');
                                if (equipmentParts.length >= 1) currentDoodle.equipment.helmet = equipmentParts[0].trim() || "None";
                                if (equipmentParts.length >= 2) currentDoodle.equipment.amulet = equipmentParts[1].trim() || "None";
                                if (equipmentParts.length >= 3) currentDoodle.equipment.artifact = equipmentParts[2].trim() || "None";
                            }
                            
                            if (parts.length > 3 && parts[3].includes('%')) {
                                const statsParts = parts[3].split(',').map(s => s.trim());
                                for (let j = 0; j < Math.min(statsParts.length, 2); j++) {
                                    currentDoodle.stats[j] = statsParts[j];
                                }
                            }
                            
                            let movesIndex = 4;
                            if (parts.length > 3 && !parts[3].includes('%')) {
                                movesIndex = 3;
                            }
                            if (parts.length > movesIndex) {
                                const moves = parts[movesIndex].split('/').map(m => m.trim());
                                for (let j = 0; j < Math.min(moves.length, 4); j++) {
                                    currentDoodle.moves[j] = moves[j];
                                }
                            }
                            
                            const doodleData = doodles.find(d => d.name === currentDoodle.name);
                            if (doodleData) {
                                currentDoodle.image = doodleData.image;
                                currentDoodle.type = doodleData.type;
                            }
                        }
                    }
                }
                
                if (currentDoodle) {
                    importedDoodles.push(currentDoodle);
                }
                
                const teamData = {
                    name: teamName,
                    notes: "",
                    doodles: importedDoodles
                };
                
                if (teams.length < MAX_TEAMS) {
                    teams.push(teamData);
                    currentTeamIndex = teams.length - 1;
                    updateTeamSelect();
                    loadTeam(currentTeamIndex);
                    saveToStorage();
                    alert("Team imported successfully as a new team!");
                } else {
                    if (confirm("No space for new team. Replace current team?")) {
                        teams[currentTeamIndex] = teamData;
                        loadTeam(currentTeamIndex);
                        saveToStorage();
                        alert("Team imported successfully (replaced current team)!");
                    }
                }
            } catch (error) {
                console.error("Import failed:", error);
                alert("Invalid team code! Please check and try again.");
            }
        }

        function importFromText() {
            const text = prompt("Paste Doodle text (format: Doodle @ Item - Trait - Helmet/Amulet/Artifact - +10%, +10% - Move/Move/Move/Move)");
            if (!text) return;

            try {
                const parts = text.split(' - ');
                
                const doodleItemPart = parts[0];
                const doodleItemParts = doodleItemPart.split(' @ ');
                const doodleName = doodleItemParts[0].trim();
                const heldItem = doodleItemParts.length > 1 ? doodleItemParts[1].trim() : "None";
                
                const trait = parts.length > 1 ? parts[1].trim() : "";
                
                let equipment = { helmet: "None", amulet: "None", artifact: "None" };
                if (parts.length > 2) {
                    const equipmentParts = parts[2].split('/');
                    if (equipmentParts.length >= 1) equipment.helmet = equipmentParts[0].trim() || "None";
                    if (equipmentParts.length >= 2) equipment.amulet = equipmentParts[1].trim() || "None";
                    if (equipmentParts.length >= 3) equipment.artifact = equipmentParts[2].trim() || "None";
                }
                
                let stats = ["", ""];
                if (parts.length > 3 && parts[3].includes('%')) {
                    const statsParts = parts[3].split(',').map(s => s.trim());
                    for (let j = 0; j < Math.min(statsParts.length, 2); j++) {
                        stats[j] = statsParts[j];
                    }
                }
                
                let moves = ["", "", "", ""];
                let movesIndex = 4;
                if (parts.length > 3 && !parts[3].includes('%')) {
                    movesIndex = 3;
                }
                if (parts.length > movesIndex) {
                    const movesParts = parts[movesIndex].split('/').map(m => m.trim());
                    for (let j = 0; j < Math.min(movesParts.length, 4); j++) {
                        moves[j] = movesParts[j];
                    }
                }
                
                if (currentTeamIndex === -1 || teams[currentTeamIndex].doodles.length >= 6) {
                    alert("Team is full! Clear a slot first.");
                    return;
                }
                
                const doodle = doodles.find(d => d.name === doodleName);
                if (!doodle) {
                    alert("Doodle not found in database!");
                    return;
                }
                
                teams[currentTeamIndex].doodles.push({
                    name: doodle.name,
                    image: doodle.image,
                    type: doodle.type,
                    moves: moves,
                    trait: trait,
                    heldItem: heldItem,
                    stats: stats,
                    equipment: equipment
                });
                
                renderTeam();
                saveToStorage();
                alert("Doodle imported successfully!");
            } catch (error) {
                console.error("Import failed:", error);
                alert("Error importing doodle. Please check the format and try again.");
            }
        }

        function loadTeam(index) {
            if (index < 0 || index >= teams.length) return;
            
            const team = teams[index];
            document.getElementById('team-name').value = team.name;
            renderTeam();
        }

        function loadFromStorage() {
            const savedTeams = localStorage.getItem('doodleTeams');
            const savedIndex = localStorage.getItem('currentTeamIndex');
            
            if (savedTeams) {
                teams = JSON.parse(savedTeams);
                currentTeamIndex = savedIndex ? parseInt(savedIndex) : 0;
                return true;
            }
            return false;
        }

        function saveToStorage() {
            localStorage.setItem('doodleTeams', JSON.stringify(teams));
            localStorage.setItem('currentTeamIndex', currentTeamIndex);
        }

        function initializeDefensiveCalculator() {
            document.getElementById('add-defensive').addEventListener('click', addDefensiveDoodle);
            document.getElementById('save-defensive').addEventListener('click', saveDefensiveTeam);
            document.getElementById('load-defensive').addEventListener('click', loadDefensiveTeam);
            document.getElementById('load-from-teambuilder').addEventListener('click', loadDefensiveFromTeambuilder);
            
            createDefensiveDoodleBox();
        }

        function createDefensiveDoodleBox() {
            const container = document.getElementById('defensive-container');
            const box = document.createElement('div');
            box.className = 'calculator-box';
            box.dataset.index = defensiveDoodleCount;
            
            const header = document.createElement('div');
            header.className = 'calculator-header';
            
            const title = document.createElement('h3');
            title.textContent = `Doodle ${defensiveDoodleCount}`;
            
            const removeBtn = document.createElement('button');
            removeBtn.className = 'remove-calc';
            removeBtn.textContent = 'Ã—';
            removeBtn.onclick = function() {
                container.removeChild(box);
                updateDefensiveSummary();
            };
            
            header.appendChild(title);
            header.appendChild(removeBtn);
            
            box.innerHTML = `
                <div class="type-select-container">
                    <select class="type-select primary-type" data-doodle="${defensiveDoodleCount}">
                        <option value="">Primary Type</option>
                        ${allTypes.map(type => `<option value="${type}">${type.charAt(0).toUpperCase() + type.slice(1)}</option>`).join('')}
                    </select>
                    <select class="type-select secondary-type" data-doodle="${defensiveDoodleCount}">
                        <option value="">Secondary Type</option>
                        ${allTypes.map(type => `<option value="${type}">${type.charAt(0).toUpperCase() + type.slice(1)}</option>`).join('')}
                    </select>
                    <select class="type-select trait" data-doodle="${defensiveDoodleCount}">
                        <option value="">Trait</option>
                        ${defensiveTraits.map(trait => `<option value="${trait}">${trait}</option>`).join('')}
                    </select>
                </div>
                
                <div class="result-title">Weaknesses:</div>
                <div class="result-list weaknesses" data-doodle="${defensiveDoodleCount}"><span class="none">None</span></div>
                
                <div class="result-title">Resistances:</div>
                <div class="result-list resistances" data-doodle="${defensiveDoodleCount}"><span class="none">None</span></div>
                
                <div class="result-title">Immunities:</div>
                <div class="result-list immunities" data-doodle="${defensiveDoodleCount}"><span class="none">None</span></div>
            `;
            
            box.prepend(header);
            container.appendChild(box);
            defensiveDoodleCount++;
            
            box.querySelectorAll('.type-select').forEach(select => {
                select.addEventListener('change', updateDefensiveCoverage);
            });
        }

        function addDefensiveDoodle() {
            const container = document.getElementById('defensive-container');
            if (container.children.length < 6) {
                createDefensiveDoodleBox();
            } else {
                alert('Maximum of 6 doodles reached!');
            }
        }

        function updateDefensiveCoverage() {
            const doodleIndex = this.getAttribute('data-doodle');
            const box = document.querySelector(`.calculator-box[data-index="${doodleIndex}"]`);
            
            const primaryType = box.querySelector(`.primary-type[data-doodle="${doodleIndex}"]`).value;
            const secondaryType = box.querySelector(`.secondary-type[data-doodle="${doodleIndex}"]`).value;
            const trait = box.querySelector(`.trait[data-doodle="${doodleIndex}"]`).value;

            if (!primaryType) {
                box.querySelector(`.weaknesses[data-doodle="${doodleIndex}"]`).innerHTML = '<span class="none">None</span>';
                box.querySelector(`.resistances[data-doodle="${doodleIndex}"]`).innerHTML = '<span class="none">None</span>';
                box.querySelector(`.immunities[data-doodle="${doodleIndex}"]`).innerHTML = '<span class="none">None</span>';
                updateDefensiveSummary();
                return;
            }

            const weaknesses = calculateDefensiveWeaknesses(primaryType, secondaryType, trait);
            const resistances = calculateDefensiveResistances(primaryType, secondaryType, trait);
            const immunities = calculateDefensiveImmunities(primaryType, secondaryType, trait);

            updateDefensiveResultList(`.weaknesses[data-doodle="${doodleIndex}"]`, weaknesses, 'weakness');
            updateDefensiveResultList(`.resistances[data-doodle="${doodleIndex}"]`, resistances, 'resist');
            updateDefensiveResultList(`.immunities[data-doodle="${doodleIndex}"]`, immunities);

            updateDefensiveSummary();
        }

        function applyTraitEffects(primary, secondary, trait, attackingType, effectiveness) {
            if (!trait || !traitEffects[trait]) return effectiveness;

            const effect = traitEffects[trait];
            
            if (effect.immunity) {
                if (effect.immunity === "primary" && primary === attackingType) {
                    return 0;
                } else if (effect.immunity === attackingType) {
                    return 0;
                } else if (Array.isArray(effect.immunity) && effect.immunity.includes(attackingType)) {
                    return 0;
                }
            }
            
            if (effect.removeType && (primary === effect.removeType || secondary === effect.removeType)) {
                let newEffectiveness = 1;
                if (primary !== effect.removeType) {
                    newEffectiveness *= defensiveTypeChart[primary][attackingType];
                }
                if (secondary && secondary !== effect.removeType) {
                    newEffectiveness *= defensiveTypeChart[secondary][attackingType];
                }
                effectiveness = newEffectiveness;
            }
            
            if (effect.damageReduction && effect.damageReduction.type && effect.damageReduction.type === attackingType) {
                effectiveness *= (1 - effect.damageReduction.amount);
            }
            
            if (effect.damageReduction && Array.isArray(effect.damageReduction)) {
                effect.damageReduction.forEach(reduction => {
                    if (reduction.type === attackingType) {
                        effectiveness *= (1 - reduction.amount);
                    }
                });
            }
            
            if (effect.superEffectiveToResisted && effect.superEffectiveToResisted.type === attackingType) {
                if (effectiveness >= effect.superEffectiveToResisted.from) {
                    effectiveness = effect.superEffectiveToResisted.to;
                }
            }
            
            if (effect.invertChart) {
                if (effectiveness === 4) effectiveness = 0.25;
                else if (effectiveness === 2) effectiveness = 0.5;
                else if (effectiveness === 0.5) effectiveness = 2;
                else if (effectiveness === 0.25) effectiveness = 4;
            }
            
            return effectiveness;
        }

        function calculateDefensiveWeaknesses(primary, secondary, trait) {
            const results = {};

            allTypes.forEach(attackingType => {
                const primaryEffect = defensiveTypeChart[primary][attackingType];
                const secondaryEffect = secondary ? defensiveTypeChart[secondary][attackingType] : 1;
                let combinedEffect = primaryEffect * secondaryEffect;

                combinedEffect = applyTraitEffects(primary, secondary, trait, attackingType, combinedEffect);

                if (combinedEffect > 1) {
                    if (combinedEffect >= 3.5) { 
                        results[attackingType] = 'weak-4x';
                    } else if (combinedEffect > 1.5) {
                        results[attackingType] = 'weak-2x';
                    } else if (combinedEffect > 1.1) {
                        results[attackingType] = 'weak-075x';
                    }
                }
            });

            return results;
        }

        function calculateDefensiveResistances(primary, secondary, trait) {
            const results = {};

            allTypes.forEach(attackingType => {
                const primaryEffect = defensiveTypeChart[primary][attackingType];
                const secondaryEffect = secondary ? defensiveTypeChart[secondary][attackingType] : 1;
                let combinedEffect = primaryEffect * secondaryEffect;

                combinedEffect = applyTraitEffects(primary, secondary, trait, attackingType, combinedEffect);

                if (combinedEffect < 1 && combinedEffect > 0) {
                    if (combinedEffect <= 0.26) { 
                        results[attackingType] = 'resist-025x';
                    } else if (combinedEffect < 0.9) {
                        results[attackingType] = 'resist-05x';
                    }
                }
            });

            return results;
        }

        function calculateDefensiveImmunities(primary, secondary, trait) {
            const results = {};

            allTypes.forEach(attackingType => {
                const primaryEffect = defensiveTypeChart[primary][attackingType];
                const secondaryEffect = secondary ? defensiveTypeChart[secondary][attackingType] : 1;
                let combinedEffect = primaryEffect * secondaryEffect;

                combinedEffect = applyTraitEffects(primary, secondary, trait, attackingType, combinedEffect);

                if (Math.abs(combinedEffect) < 0.1) { 
                    results[attackingType] = 'immune';
                }
            });

            return results;
        }

        function updateDefensiveResultList(selector, typeEffects, effectType = '') {
            const element = document.querySelector(selector);

            if (!element) return;
            
            if (Object.keys(typeEffects).length === 0) {
                element.innerHTML = '<span class="none">None</span>';
                return;
            }

            element.innerHTML = '';

            const typesArray = Object.entries(typeEffects)
                .sort((a, b) => {
                    if (a[1] !== b[1]) {
                        return a[1].localeCompare(b[1]);
                    }
                    return a[0].localeCompare(b[0]);
                });

            typesArray.forEach(([type, effect]) => {
                let badgeText = type.charAt(0).toUpperCase() + type.slice(1);
                if (effect === 'weak-4x') badgeText += ' (4Ã—)';
                else if (effect === 'weak-2x') badgeText += ' (2Ã—)';
                else if (effect === 'weak-075x') badgeText += ' (1.5Ã—)';
                else if (effect === 'resist-025x') badgeText += ' (Â¼Ã—)';
                else if (effect === 'resist-05x') badgeText += ' (Â½Ã—)';

                const badge = document.createElement('span');
                badge.className = `calc-type-badge ${type} ${effect}`;
                badge.style.backgroundColor = typeColors[type.charAt(0).toUpperCase() + type.slice(1)] || typeColors['basic'];
                
                const icon = document.createElement('span');
                icon.className = 'type-icon';
                icon.style.backgroundImage = `url(${typeIcons[type.charAt(0).toUpperCase() + type.slice(1)] || typeIcons['basic']})`;
                badge.appendChild(icon);
                
                const textNode = document.createTextNode(badgeText);
                badge.appendChild(textNode);
                
                element.appendChild(badge);
            });
        }

        function updateDefensiveSummary() {
            const allWeaknesses = {};
            const allResistances = {};
            const allImmunities = new Set();

            document.querySelectorAll('#defensive-container .calculator-box').forEach((box) => {
                const primary = box.querySelector('.primary-type')?.value;
                const secondary = box.querySelector('.secondary-type')?.value;
                const trait = box.querySelector('.trait')?.value;

                if (primary) {
                    const weaknesses = calculateDefensiveWeaknesses(primary, secondary, trait);
                    Object.entries(weaknesses).forEach(([type, effect]) => {
                        if (!allWeaknesses[type]) allWeaknesses[type] = { count: 0, maxEffect: effect };
                        allWeaknesses[type].count++;
                        if (effect === 'weak-4x') allWeaknesses[type].maxEffect = 'weak-4x';
                        else if (allWeaknesses[type].maxEffect !== 'weak-4x' && effect === 'weak-2x') {
                            allWeaknesses[type].maxEffect = 'weak-2x';
                        }
                        else if (allWeaknesses[type].maxEffect !== 'weak-4x' && 
                                 allWeaknesses[type].maxEffect !== 'weak-2x' && 
                                 effect === 'weak-075x') {
                            allWeaknesses[type].maxEffect = 'weak-075x';
                        }
                    });

                    const resistances = calculateDefensiveResistances(primary, secondary, trait);
                    Object.entries(resistances).forEach(([type, effect]) => {
                        if (!allResistances[type]) allResistances[type] = { count: 0, maxEffect: effect };
                        allResistances[type].count++;
                        if (effect === 'resist-025x') allResistances[type].maxEffect = 'resist-025x';
                        else if (allResistances[type].maxEffect !== 'resist-025x' && effect === 'resist-05x') {
                            allResistances[type].maxEffect = 'resist-05x';
                        }
                    });

                    const immunities = calculateDefensiveImmunities(primary, secondary, trait);
                    Object.keys(immunities).forEach(type => {
                        allImmunities.add(type);
                    });
                }
            });

            updateDefensiveTeamResultList('#team-weaknesses', allWeaknesses, 'weakness');
            updateDefensiveTeamResultList('#team-resistances', allResistances, 'resist');
            updateDefensiveTeamResultList('#team-immunities', allImmunities);

            const noResistances = allTypes.filter(type => {
                return !allResistances[type] && !allImmunities.has(type);
            });
            updateDefensiveTeamResultList('#team-no-resistances', noResistances);
        }

        function updateDefensiveTeamResultList(selector, typeData, effectType = '') {
            const element = document.querySelector(selector);

            if ((effectType === 'weakness' || effectType === 'resist') ? 
                Object.keys(typeData).length === 0 : typeData.size === 0) {
                element.innerHTML = '<span class="none">None</span>';
                return;
            }

            element.innerHTML = '';

            let typesArray;
            if (effectType === 'weakness' || effectType === 'resist') {
                typesArray = Object.entries(typeData)
                    .map(([type, data]) => ({
                        type,
                        count: typeof data === 'object' ? data.count : 0,
                        effect: typeof data === 'object' ? data.maxEffect : data
                    }))
                    .sort((a, b) => {
                        if (b.count !== a.count) return b.count - a.count;
                        if (b.effect !== a.effect) return b.effect.localeCompare(a.effect);
                        return a.type.localeCompare(b.type);
                    });
            } else {
                typesArray = Array.isArray(typeData) ? 
                    typeData.sort((a, b) => a.localeCompare(b)) : 
                    Array.from(typeData).sort((a, b) => a.localeCompare(b));
            }

            typesArray.forEach(type => {
                let typeName = typeof type === 'object' ? type.type : type;
                let effect = typeof type === 'object' ? type.effect : '';
                let count = typeof type === 'object' ? type.count : 0;

                let badgeText = typeName.charAt(0).toUpperCase() + typeName.slice(1);
                if (effectType === 'weakness' || effectType === 'resist') {
                    if (count > 0) {
                        badgeText += ` (${count})`;
                    }
                    if (effect === 'weak-4x') badgeText += ' 4Ã—';
                    else if (effect === 'weak-2x') badgeText += ' 2Ã—';
                    else if (effect === 'weak-075x') badgeText += ' 1.5Ã—';
                    else if (effect === 'resist-025x') badgeText += ' Â¼Ã—';
                    else if (effect === 'resist-05x') badgeText += ' Â½Ã—';
                }

                const badge = document.createElement('span');
                badge.className = `calc-type-badge ${typeName} ${effect}`;
                badge.style.backgroundColor = typeColors[typeName.charAt(0).toUpperCase() + typeName.slice(1)] || typeColors['basic'];
                
                const icon = document.createElement('span');
                icon.className = 'type-icon';
                icon.style.backgroundImage = `url(${typeIcons[typeName.charAt(0).toUpperCase() + typeName.slice(1)] || typeIcons['basic']})`;
                badge.appendChild(icon);
                
                const textNode = document.createTextNode(badgeText);
                badge.appendChild(textNode);
                
                element.appendChild(badge);
            });
        }

        function saveDefensiveTeam() {
            const teamData = {
                doodles: []
            };

            document.querySelectorAll('#defensive-container .calculator-box').forEach((box, index) => {
                const doodleIndex = box.dataset.index;
                const doodleData = { index: doodleIndex };
                
                doodleData.primaryType = box.querySelector(`.primary-type[data-doodle="${doodleIndex}"]`).value;
                doodleData.secondaryType = box.querySelector(`.secondary-type[data-doodle="${doodleIndex}"]`).value;
                doodleData.trait = box.querySelector(`.trait[data-doodle="${doodleIndex}"]`).value;
                
                teamData.doodles.push(doodleData);
            });

            localStorage.setItem('defensiveTeam', JSON.stringify(teamData));
            alert('Defensive team saved successfully!');
        }

        function loadDefensiveTeam() {
            const savedTeam = localStorage.getItem('defensiveTeam');
            if (!savedTeam) {
                alert('No saved defensive team found!');
                return;
            }

            const teamData = JSON.parse(savedTeam);
            loadDefensiveDoodles(teamData);
        }

        function loadDefensiveFromTeambuilder() {
            if (teams.length === 0 || currentTeamIndex === -1) {
                alert('No team found in teambuilder!');
                return;
            }

            const team = teams[currentTeamIndex];
            const teamData = {
                doodles: []
            };

            team.doodles.forEach(doodle => {
                const types = doodle.type.split('/');
                const doodleData = {
                    primaryType: types[0].toLowerCase(),
                    secondaryType: types[1] ? types[1].toLowerCase() : "",
                    trait: doodle.trait
                };
                teamData.doodles.push(doodleData);
            });

            loadDefensiveDoodles(teamData);
            alert('Team loaded from teambuilder!');
        }

        function loadDefensiveDoodles(teamData) {
            const container = document.getElementById('defensive-container');
            container.innerHTML = '';
            defensiveDoodleCount = 1;
            
            teamData.doodles.forEach((doodleData, index) => {
                createDefensiveDoodleBox();
                const box = document.querySelector(`#defensive-container .calculator-box[data-index="${defensiveDoodleCount - 1}"]`);
                
                if (doodleData.primaryType) {
                    box.querySelector(`.primary-type[data-doodle="${defensiveDoodleCount - 1}"]`).value = doodleData.primaryType;
                }
                if (doodleData.secondaryType) {
                    box.querySelector(`.secondary-type[data-doodle="${defensiveDoodleCount - 1}"]`).value = doodleData.secondaryType;
                }
                if (doodleData.trait) {
                    box.querySelector(`.trait[data-doodle="${defensiveDoodleCount - 1}"]`).value = doodleData.trait;
                }
                
                if (box.querySelector('.primary-type')) {
                    box.querySelector('.primary-type').dispatchEvent(new Event('change'));
                }
            });
            
            updateDefensiveSummary();
            alert('Defensive team loaded successfully!');
        }

        function initializeOffensiveCalculator() {
            populateOffensiveTypeDropdowns();
            setupOffensiveEventListeners();
        }

        function populateOffensiveTypeDropdowns() {
            const typeSelects = [
                document.getElementById('type-1'),
                document.getElementById('type-2'),
                document.getElementById('type-3'),
                document.getElementById('type-4')
            ];

            typeSelects.forEach(select => {
                select.innerHTML = '<option value="">Select Type</option>';
                
                allTypes.forEach(type => {
                    const option = document.createElement('option');
                    option.value = type;
                    option.textContent = type.charAt(0).toUpperCase() + type.slice(1);
                    select.appendChild(option);
                });
            });
        }

        function setupOffensiveEventListeners() {
            document.getElementById('calculate-coverage').addEventListener('click', calculateOffensiveCoverage);
            document.getElementById('reset-coverage').addEventListener('click', resetOffensiveCoverage);
        }

        function calculateOffensiveCoverage() {
            const selectedTypes = [
                document.getElementById('type-1').value,
                document.getElementById('type-2').value,
                document.getElementById('type-3').value,
                document.getElementById('type-4').value
            ].filter(type => type !== "");

            const includeTraits = document.getElementById('include-traits').checked;
            
            const results = {
                superEffective: [],
                normalEffective: [],
                notVeryEffective: [],
                noEffect: []
            };

            doodles.forEach(doodle => {
                let maxEffectiveness = 0;
                
                selectedTypes.forEach(offensiveType => {
                    const effectiveness = calculateOffensiveEffectiveness(offensiveType, doodle, includeTraits);
                    if (effectiveness > maxEffectiveness) {
                        maxEffectiveness = effectiveness;
                    }
                });

                if (selectedTypes.length === 0) {
                    maxEffectiveness = 1;
                }

                if (maxEffectiveness > 1) {
                    results.superEffective.push(doodle);
                } else if (maxEffectiveness === 1) {
                    results.normalEffective.push(doodle);
                } else if (maxEffectiveness > 0) {
                    results.notVeryEffective.push(doodle);
                } else {
                    results.noEffect.push(doodle);
                }
            });

            displayOffensiveResults(results);
        }

        function calculateOffensiveEffectiveness(offensiveType, doodle, includeTraits = false) {
            const defendingTypes = doodle.type.split('/');
            let effectiveness = 1;
            
            defendingTypes.forEach(defendingType => {
                const normalizedDefendingType = defendingType.toLowerCase();
                if (offensiveTypeChart[offensiveType] && offensiveTypeChart[offensiveType][normalizedDefendingType] !== undefined) {
                    effectiveness *= offensiveTypeChart[offensiveType][normalizedDefendingType];
                }
            });
            
            if (includeTraits) {
                const defaultTrait = doodleDefaultTraits[doodle.name];
                if (defaultTrait && traitEffects[defaultTrait]) {
                    const primary = defendingTypes[0].toLowerCase();
                    const secondary = defendingTypes[1] ? defendingTypes[1].toLowerCase() : null;
                    effectiveness = applyTraitEffects(primary, secondary, defaultTrait, offensiveType, effectiveness);
                }
            }
            
            return effectiveness;
        }

        function displayOffensiveResults(results) {
            displayOffensiveResultList('super-effective', results.superEffective);
            displayOffensiveResultList('normal-effective', results.normalEffective);
            displayOffensiveResultList('not-very-effective', results.notVeryEffective);
            displayOffensiveResultList('no-effect', results.noEffect);
        }

        function displayOffensiveResultList(elementId, doodles) {
            const element = document.getElementById(elementId);
            element.innerHTML = '';

            if (doodles.length === 0) {
                element.innerHTML = '<span class="none">None</span>';
                return;
            }

            doodles.forEach(doodle => {
                const doodleElement = document.createElement('div');
                doodleElement.className = 'offensive-doodle-result';
                
                const sprite = document.createElement('div');
                sprite.className = 'doodle-sprite';
                sprite.style.backgroundImage = `url(${doodle.image})`;
                
                const info = document.createElement('div');
                info.className = 'doodle-info';
                
                const name = document.createElement('div');
                name.className = 'doodle-name';
                name.textContent = doodle.name;
                
                const typeBadges = document.createElement('div');
                typeBadges.className = 'type-badges';
                const types = doodle.type.split('/');
                types.forEach(type => {
                    const badge = document.createElement('span');
                    badge.className = 'type-badge';
                    badge.textContent = type;
                    badge.style.backgroundColor = typeColors[type] || typeColors['Basic'];
                    
                    const icon = document.createElement('span');
                    icon.className = 'type-icon';
                    icon.style.backgroundImage = `url(${typeIcons[type] || typeIcons['Basic']})`;
                    badge.prepend(icon);
                    
                    typeBadges.appendChild(badge);
                });
                
                info.appendChild(name);
                info.appendChild(typeBadges);
                
                doodleElement.appendChild(sprite);
                doodleElement.appendChild(info);
                
                element.appendChild(doodleElement);
            });
        }

        function resetOffensiveCoverage() {
            document.getElementById('type-1').value = '';
            document.getElementById('type-2').value = '';
            document.getElementById('type-3').value = '';
            document.getElementById('type-4').value = '';
            
            document.getElementById('super-effective').innerHTML = '<span class="none">None</span>';
            document.getElementById('normal-effective').innerHTML = '<span class="none">None</span>';
            document.getElementById('not-very-effective').innerHTML = '<span class="none">None</span>';
            document.getElementById('no-effect').innerHTML = '<span class="none">None</span>';
        }

        function initializeMatchupCalculator() {
            createMatchupDoodleSelectors();
            setupMatchupEventListeners();
        }

        function createMatchupDoodleSelectors() {
            const container = document.getElementById('matchup-doodles');
            container.innerHTML = '';
            
            for (let i = 1; i <= 4; i++) {
                const selectorDiv = document.createElement('div');
                selectorDiv.className = 'matchup-doodle-select';
                selectorDiv.innerHTML = `
                    <div class="matchup-dropdown-header" data-index="${i}">
                        <span>Select Doodle ${i}</span>
                        <span>â–¼</span>
                    </div>
                    <div class="matchup-dropdown-list" data-index="${i}">
                        <input type="text" class="matchup-dropdown-search" data-index="${i}" placeholder="Search doodles...">
                        <div class="matchup-options" data-index="${i}"></div>
                    </div>
                `;
                container.appendChild(selectorDiv);
            }
            
            populateMatchupDropdowns();
            setupMatchupDropdownEvents();
        }

        function populateMatchupDropdowns() {
            doodles.forEach(doodle => {
                for (let i = 1; i <= 4; i++) {
                    const optionsContainer = document.querySelector(`.matchup-options[data-index="${i}"]`);
                    const option = document.createElement('div');
                    option.className = 'matchup-option';
                    option.dataset.value = doodle.name;
                    option.dataset.type = doodle.type;
                    option.dataset.image = doodle.image;
                    
                    const sprite = document.createElement('div');
                    sprite.className = 'mini-sprite';
                    sprite.style.backgroundImage = `url(${doodle.image})`;
                    
                    const text = document.createElement('span');
                    text.textContent = doodle.name;
                    
                    option.appendChild(sprite);
                    option.appendChild(text);
                    
                    option.addEventListener('click', function() {
                        const header = document.querySelector(`.matchup-dropdown-header[data-index="${i}"] span:first-child`);
                        header.textContent = doodle.name;
                        
                        const dropdown = document.querySelector(`.matchup-dropdown-list[data-index="${i}"]`);
                        dropdown.classList.remove('active');
                        
                        const allOptions = optionsContainer.querySelectorAll('.matchup-option');
                        allOptions.forEach(opt => opt.classList.remove('selected'));
                        this.classList.add('selected');
                    });
                    
                    optionsContainer.appendChild(option);
                }
            });
        }

        function setupMatchupDropdownEvents() {
            document.querySelectorAll('.matchup-dropdown-header').forEach(header => {
                header.addEventListener('click', function() {
                    const index = this.dataset.index;
                    const dropdown = document.querySelector(`.matchup-dropdown-list[data-index="${index}"]`);
                    dropdown.classList.toggle('active');
                    if (dropdown.classList.contains('active')) {
                        const searchInput = dropdown.querySelector('.matchup-dropdown-search');
                        searchInput.focus();
                    }
                });
            });
            
            document.querySelectorAll('.matchup-dropdown-search').forEach(search => {
                search.addEventListener('input', function() {
                    const index = this.dataset.index;
                    const searchTerm = this.value.toLowerCase();
                    const options = document.querySelectorAll(`.matchup-options[data-index="${index}"] .matchup-option`);
                    
                    options.forEach(option => {
                        const text = option.textContent.toLowerCase();
                        if (text.includes(searchTerm)) {
                            option.style.display = 'flex';
                        } else {
                            option.style.display = 'none';
                        }
                    });
                });
            });
            
            document.addEventListener('click', function(event) {
                if (!event.target.closest('.matchup-doodle-select')) {
                    document.querySelectorAll('.matchup-dropdown-list').forEach(dropdown => {
                        dropdown.classList.remove('active');
                    });
                }
            });
        }

        function setupMatchupEventListeners() {
            document.getElementById('calculate-matchup').addEventListener('click', calculateMatchup);
            document.getElementById('clear-matchup').addEventListener('click', clearMatchup);
        }

        function getSelectedMatchupDoodles() {
            const selectedDoodles = [];
            
            for (let i = 1; i <= 4; i++) {
                const header = document.querySelector(`.matchup-dropdown-header[data-index="${i}"] span:first-child`);
                const doodleName = header.textContent;
                
                if (doodleName && !doodleName.startsWith('Select Doodle')) {
                    const doodle = doodles.find(d => d.name === doodleName);
                    if (doodle) {
                        selectedDoodles.push(doodle);
                    }
                }
            }
            
            return selectedDoodles;
        }

        function calculateMatchup() {
            const selectedDoodles = getSelectedMatchupDoodles();
            
            if (selectedDoodles.length === 0) {
                alert('Please select at least one doodle!');
                return;
            }
            
            const coverageResults = [];
            
            doodles.forEach(attackingDoodle => {
                if (selectedDoodles.some(d => d.name === attackingDoodle.name)) {
                    return;
                }
                
                const attackingTypes = attackingDoodle.type.split('/');
                let totalCoverage = 0;
                let effectiveTypes = [];
                
                // Check each STAB type of the attacking doodle
                attackingTypes.forEach(type => {
                    let typeCovers = 0;
                    
                    selectedDoodles.forEach(defendingDoodle => {
                        const defendingTypes = defendingDoodle.type.split('/');
                        const effectiveness = calculateTypeEffectiveness(type, defendingTypes);
                        
                        if (effectiveness > 1) {
                            typeCovers++;
                        }
                    });
                    
                    if (typeCovers > 0) {
                        totalCoverage += typeCovers;
                        effectiveTypes.push(type);
                    }
                });
                
                // Calculate coverage percentage
                const coveragePercent = (totalCoverage / selectedDoodles.length) * 100;
                
                if (totalCoverage > 0) {
                    coverageResults.push({
                        doodle: attackingDoodle,
                        coverageScore: totalCoverage,
                        effectiveTypes: [...new Set(effectiveTypes)],
                        coveragePercent: coveragePercent
                    });
                }
            });
            
            // Sort by coverage score (descending)
            coverageResults.sort((a, b) => {
                if (b.coverageScore !== a.coverageScore) {
                    return b.coverageScore - a.coverageScore;
                }
                return a.doodle.name.localeCompare(b.doodle.name);
            });
            
            displayMatchupResults(coverageResults, selectedDoodles.length);
        }

        function calculateTypeEffectiveness(attackingType, defendingTypes) {
            const normalizedAttackingType = attackingType.toLowerCase();
            let effectiveness = 1;
            
            defendingTypes.forEach(defendingType => {
                const normalizedDefendingType = defendingType.toLowerCase();
                if (offensiveTypeChart[normalizedAttackingType] && 
                    offensiveTypeChart[normalizedAttackingType][normalizedDefendingType] !== undefined) {
                    effectiveness *= offensiveTypeChart[normalizedAttackingType][normalizedDefendingType];
                }
            });
            
            return effectiveness;
        }

        function displayMatchupResults(results, totalSelected) {
            const bestCoverageList = document.getElementById('best-coverage-list');
            const allCoverageList = document.getElementById('all-coverage-list');
            const foundCount = document.getElementById('found-count');
            const bestCoverage = document.getElementById('best-coverage');
            
            foundCount.textContent = results.length;
            
            if (results.length === 0) {
                bestCoverage.textContent = '0 types';
                bestCoverageList.innerHTML = '<span class="none">No doodles found that hit selected doodles super effectively</span>';
                allCoverageList.innerHTML = '<span class="none">No coverage doodles found</span>';
                return;
            }
            
            const maxCoverage = results[0].coverageScore;
            bestCoverage.textContent = `${maxCoverage}/${totalSelected} (${Math.round((maxCoverage/totalSelected)*100)}%)`;
            
            const bestCoverageDoodles = results.filter(r => r.coverageScore === maxCoverage);
            const otherCoverageDoodles = results.filter(r => r.coverageScore < maxCoverage);
            
            if (bestCoverageDoodles.length === 0) {
                bestCoverageList.innerHTML = '<span class="none">No perfect coverage doodles found</span>';
            } else {
                bestCoverageList.innerHTML = '';
                bestCoverageDoodles.forEach(result => {
                    bestCoverageList.appendChild(createMatchupResultItem(result));
                });
            }
            
            if (otherCoverageDoodles.length === 0) {
                allCoverageList.innerHTML = '<span class="none">No other coverage doodles found</span>';
            } else {
                allCoverageList.innerHTML = '';
                otherCoverageDoodles.forEach(result => {
                    allCoverageList.appendChild(createMatchupResultItem(result));
                });
            }
        }

        function createMatchupResultItem(result) {
            const item = document.createElement('div');
            item.className = 'matchup-result-item';
            
            const sprite = document.createElement('div');
            sprite.className = 'doodle-sprite';
            sprite.style.backgroundImage = `url(${result.doodle.image})`;
            
            const info = document.createElement('div');
            info.className = 'doodle-info';
            
            const name = document.createElement('div');
            name.className = 'doodle-name';
            name.textContent = result.doodle.name;
            
            const typeBadges = document.createElement('div');
            typeBadges.className = 'type-badges';
            const types = result.doodle.type.split('/');
            types.forEach(type => {
                const badge = document.createElement('span');
                badge.className = 'type-badge';
                badge.textContent = type;
                badge.style.backgroundColor = typeColors[type] || typeColors['Basic'];
                
                const icon = document.createElement('span');
                icon.className = 'type-icon';
                icon.style.backgroundImage = `url(${typeIcons[type] || typeIcons['Basic']})`;
                badge.prepend(icon);
                
                typeBadges.appendChild(badge);
            });
            
            const coverageInfo = document.createElement('div');
            coverageInfo.style.marginTop = '8px';
            coverageInfo.style.fontSize = '12px';
            coverageInfo.style.color = result.coverageScore === getSelectedMatchupDoodles().length ? '#4CAF50' : '#FFA726';
            coverageInfo.innerHTML = `
                <strong>Coverage:</strong> ${result.coverageScore}/${getSelectedMatchupDoodles().length} (${Math.round(result.coveragePercent)}%)<br>
                <strong>Effective Types:</strong> ${result.effectiveTypes.map(t => t.charAt(0).toUpperCase() + t.slice(1)).join(', ')}
            `;
            
            info.appendChild(name);
            info.appendChild(typeBadges);
            info.appendChild(coverageInfo);
            
            item.appendChild(sprite);
            item.appendChild(info);
            
            return item;
        }

        function clearMatchup() {
            for (let i = 1; i <= 4; i++) {
                const header = document.querySelector(`.matchup-dropdown-header[data-index="${i}"] span:first-child`);
                header.textContent = `Select Doodle ${i}`;
                
                const options = document.querySelectorAll(`.matchup-options[data-index="${i}"] .matchup-option`);
                options.forEach(opt => opt.classList.remove('selected'));
                
                const search = document.querySelector(`.matchup-dropdown-search[data-index="${i}"]`);
                if (search) search.value = '';
                
                const dropdown = document.querySelector(`.matchup-dropdown-list[data-index="${i}"]`);
                if (dropdown) dropdown.classList.remove('active');
            }
            
            document.getElementById('found-count').textContent = '0';
            document.getElementById('best-coverage').textContent = '0 types';
            document.getElementById('best-coverage-list').innerHTML = '<span class="none">Select doodles and click "Find Coverage"</span>';
            document.getElementById('all-coverage-list').innerHTML = '<span class="none">Select doodles and click "Find Coverage"</span>';
        }
    </script>
</body>
</html>
